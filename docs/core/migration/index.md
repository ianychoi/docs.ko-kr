---
title: project.json에서 .NET Core 마이그레이션
description: project.json을 사용하여 이전 .NET Core 프로젝트를 마이그레이션하는 방법 알아보기
ms.date: 07/19/2017
ms.openlocfilehash: 28da1723ed91d169305c2865c5346b8ce6e0b3d1
ms.sourcegitcommit: a4cecb7389f02c27e412b743f9189bd2a6dea4d6
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 01/14/2021
ms.locfileid: "98189712"
---
# <a name="migrating-net-core-projects-from-projectjson"></a><span data-ttu-id="9afa6-103">project.json에서 .NET Core 프로젝트 마이그레이션</span><span class="sxs-lookup"><span data-stu-id="9afa6-103">Migrating .NET Core projects from project.json</span></span>

<span data-ttu-id="9afa6-104">이 문서에서는 .NET Core 프로젝트에 대한 다음 세 가지 마이그레이션 시나리오를 다룹니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-104">This document covers the following three migration scenarios for .NET Core projects:</span></span>

1. [<span data-ttu-id="9afa6-105">*project.json* 의 유효한 스키마에서 *csproj* 로 마이그레이션</span><span class="sxs-lookup"><span data-stu-id="9afa6-105">Migration from a valid latest schema of *project.json* to *csproj*</span></span>](#migration-from-projectjson-to-csproj)
2. [<span data-ttu-id="9afa6-106">DNX에서 csproj로 마이그레이션</span><span class="sxs-lookup"><span data-stu-id="9afa6-106">Migration from DNX to csproj</span></span>](#migration-from-dnx-to-csproj)
3. [<span data-ttu-id="9afa6-107">RC3 및 이전 .NET Core csproj 프로젝트에서 최종 형식으로 마이그레이션</span><span class="sxs-lookup"><span data-stu-id="9afa6-107">Migration from RC3 and previous .NET Core csproj projects to the final format</span></span>](#migration-from-earlier-net-core-csproj-formats-to-rtm-csproj)

<span data-ttu-id="9afa6-108">이 문서는 project.json을 사용하는 이전 .NET Core 프로젝트에만 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-108">This document is only applicable to older .NET Core projects that use project.json.</span></span> <span data-ttu-id="9afa6-109">.NET Framework에서 .NET Core로 마이그레이션하는 경우에는 적용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-109">It does not apply to migrating from .NET Framework to .NET Core.</span></span>

## <a name="migration-from-projectjson-to-csproj"></a><span data-ttu-id="9afa6-110">project.json에서 csproj로 마이그레이션</span><span class="sxs-lookup"><span data-stu-id="9afa6-110">Migration from project.json to csproj</span></span>

<span data-ttu-id="9afa6-111">*project.json* 에서 *.csproj* 로 마이그레이션하려면 다음 방법 중 하나를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-111">Migration from *project.json* to *.csproj* can be done using one of the following methods:</span></span>

- [<span data-ttu-id="9afa6-112">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="9afa6-112">Visual Studio</span></span>](#visual-studio)
- [<span data-ttu-id="9afa6-113">dotnet 마이그레이션 명령줄 도구</span><span class="sxs-lookup"><span data-stu-id="9afa6-113">dotnet migrate command-line tool</span></span>](#dotnet-migrate)

<span data-ttu-id="9afa6-114">두 방법 모두 동일한 기본 엔진을 사용하여 프로젝트를 마이그레이션하므로 결과가 동일합니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-114">Both methods use the same underlying engine to migrate the projects, so the results will be the same for both.</span></span> <span data-ttu-id="9afa6-115">대부분의 경우 이 두 가지 방법 중 하나를 사용하여 *project.json* 을 *csproj* 로 마이그레이션하기만 하면 되며 프로젝트 파일을 추가로 수동 편집할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-115">In most cases, using one of these two ways to migrate the *project.json* to *csproj* is the only thing that is needed, and no further manual editing of the project file is necessary.</span></span> <span data-ttu-id="9afa6-116">결과로 얻는 *.csproj* 파일의 이름은 포함되는 디렉터리 이름과 동일하게 지정됩니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-116">The resulting *.csproj* file will be named the same as the containing directory name.</span></span>

### <a name="visual-studio"></a><span data-ttu-id="9afa6-117">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="9afa6-117">Visual Studio</span></span>

<span data-ttu-id="9afa6-118">Visual Studio 2017 또는 Visual Studio 2019 버전 16.2 이전 버전에서 *.xproj* 파일을 참조하는 *.xproj* 파일 또는 솔루션 파일을 열면 **단방향 업그레이드** 대화 상자가 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-118">When you open an *.xproj* file or a solution file that references *.xproj* files in Visual Studio 2017 or Visual Studio 2019 version 16.2 and earlier, the **One-way upgrade** dialog appears.</span></span> <span data-ttu-id="9afa6-119">이 대화 상자에 마이그레이션할 프로젝트가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-119">The dialog displays the projects to be migrated.</span></span> <span data-ttu-id="9afa6-120">솔루션 파일을 여는 경우에는 솔루션 파일에 지정된 모든 프로젝트가 나열됩니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-120">If you open a solution file, all the projects specified in the solution file are listed.</span></span> <span data-ttu-id="9afa6-121">마이그레이션할 프로젝트 목록을 검토하고 **확인** 을 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-121">Review the list of projects to be migrated and select **OK**.</span></span>

![마이그레이션할 프로젝트 목록을 표시하는 단방향 업그레이드 대화 상자](media/one-way-upgrade.jpg)

<span data-ttu-id="9afa6-123">Visual Studio에서 선택한 프로젝트가 자동으로 마이그레이션됩니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-123">Visual Studio migrates the selected projects automatically.</span></span> <span data-ttu-id="9afa6-124">솔루션을 마이그레이션할 때 모든 프로젝트를 선택하지 않는 경우에는 동일한 대화 상자에 해당 솔루션의 나머지 솔루션을 업그레이드할지 묻는 메시지가 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-124">When migrating a solution, if you don't choose all projects, the same dialog appears asking you to upgrade the remaining projects from that solution.</span></span> <span data-ttu-id="9afa6-125">프로젝트를 마이그레이션한 후 **솔루션 탐색기** 창의 프로젝트를 마우스 오른쪽 단추로 클릭하고 **\<project name>.csproj 편집** 을 선택하여 콘텐츠를 보고 수정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-125">After the project is migrated, you can see and modify its contents by right-clicking the project in the **Solution Explorer** window and selecting **Edit \<project name>.csproj**.</span></span>

<span data-ttu-id="9afa6-126">마이그레이션된 파일(*project.json*, *global.json*, *.xproj* 및 솔루션 파일)은 *Backup* 폴더로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-126">Files that were migrated (*project.json*, *global.json*, *.xproj*, and solution file) are moved to a *Backup* folder.</span></span> <span data-ttu-id="9afa6-127">마이그레이션된 솔루션 파일은 Visual Studio 2017 또는 Visual Studio 2019로 업그레이드되며, Visual Studio 2015 이전 버전에서는 해당 솔루션 파일을 열 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-127">The migrated solution file is upgraded to Visual Studio 2017 or Visual Studio 2019 and you won't be able to open that solution file in Visual Studio 2015 or earlier versions.</span></span> <span data-ttu-id="9afa6-128">마이그레이션 보고서를 포함하는 *UpgradeLog.htm* 이라는 파일도 저장되고 자동으로 열립니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-128">A file named *UpgradeLog.htm* that contains a migration report is also saved and opened automatically.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9afa6-129">Visual Studio 2019 버전 16.3 이상에서는 *.xproj* 파일을 로드하거나 마이그레이션할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-129">In Visual Studio 2019 version 16.3 and later, you cannot load or migrate an *.xproj* file.</span></span> <span data-ttu-id="9afa6-130">또한 Visual Studio 2015는 *.xproj* 파일을 마이그레이션하는 기능을 제공하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-130">Additionally, Visual Studio 2015 doesn't provide the ability to migrate an *.xproj* file.</span></span> <span data-ttu-id="9afa6-131">이 Visual Studio 버전 중 하나를 사용 중인 경우 적절한 버전의 Visual Studio를 설치하거나 다음에 설명된 명령줄 마이그레이션 도구를 사용하세요.</span><span class="sxs-lookup"><span data-stu-id="9afa6-131">If you're using one of these Visual Studio versions, either install a suitable version of Visual Studio, or use the command line migration tool that's described next.</span></span>

### <a name="dotnet-migrate"></a><span data-ttu-id="9afa6-132">dotnet 마이그레이션</span><span class="sxs-lookup"><span data-stu-id="9afa6-132">dotnet migrate</span></span>

<span data-ttu-id="9afa6-133">명령줄 시나리오에서는 [`dotnet migrate`](../tools/dotnet-migrate.md) 명령을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-133">In the command-line scenario, you can use the [`dotnet migrate`](../tools/dotnet-migrate.md) command.</span></span> <span data-ttu-id="9afa6-134">이 경우 프로젝트, 솔루션 또는 폴더 세트를 발견된 순서에 따라 차례로 마이그레이션합니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-134">It migrates a project, a solution, or a set of folders in that order, depending on which ones were found.</span></span> <span data-ttu-id="9afa6-135">프로젝트를 마이그레이션하면 프로젝트 및 프로젝트의 모든 종속 항목이 마이그레이션됩니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-135">When you migrate a project, the project and all its dependencies are migrated.</span></span>

<span data-ttu-id="9afa6-136">마이그레이션된 파일(*project.json*, *global.json* 및 *.xproj*)은 *backup* 폴더로 이동합니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-136">Files that were migrated (*project.json*, *global.json*, and *.xproj*) are moved to a *backup* folder.</span></span>

> [!NOTE]
> <span data-ttu-id="9afa6-137">Visual Studio Code를 사용 중인 경우 `dotnet migrate` 명령은 *tasks.json* 같은 Visual Studio Code 관련 파일을 수정하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-137">If you are using Visual Studio Code, the `dotnet migrate` command does not modify Visual Studio Code-specific files such as *tasks.json*.</span></span> <span data-ttu-id="9afa6-138">이러한 파일은 수동으로 변경해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-138">These files need to be changed manually.</span></span>
> <span data-ttu-id="9afa6-139">편집기 또는 Visual Studio 이외의 IDE(통합 개발 환경)를 사용 중인 경우에도 마찬가지입니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-139">This is also true if you are using an editor or Integrated Development Environment (IDE) other than Visual Studio.</span></span>

<span data-ttu-id="9afa6-140">*project.json* 형식과 *.csproj* 형식을 비교하려면 [project.json 및 csproj 속성 간 매핑](../tools/project-json-to-csproj.md)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9afa6-140">See [A mapping between project.json and csproj properties](../tools/project-json-to-csproj.md) for a comparison of *project.json* and *.csproj* formats.</span></span>

<span data-ttu-id="9afa6-141">“No executable found matching command dotnet-migrate”(dotnet-migrate</span><span class="sxs-lookup"><span data-stu-id="9afa6-141">If you get an error:</span></span>

> <span data-ttu-id="9afa6-142">명령과 일치하는 실행 파일을 찾을 수 없습니다.) 오류가 발생하는 경우 다음을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-142">No executable found matching command dotnet-migrate</span></span>

<span data-ttu-id="9afa6-143">`dotnet --version`을 실행하여 사용 중인 버전을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-143">Run `dotnet --version` to see which version you are using.</span></span> <span data-ttu-id="9afa6-144">[`dotnet migrate`](../tools/dotnet-migrate.md)는 .NET Core SDK 1.0.0에 도입되었고 버전 3.0.100에서 제거되었습니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-144">[`dotnet migrate`](../tools/dotnet-migrate.md) was introduced in .NET Core SDK 1.0.0 and removed in version 3.0.100.</span></span>
<span data-ttu-id="9afa6-145">*global.json* 파일이 현재 또는 부모 디렉터리에 있고 해당 파일이 지정하는 `sdk` 버전이 이 범위를 벗어나는 경우 이 오류가 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-145">You'll get this error if you have a *global.json* file in the current or parent directory, and the `sdk` version it specifies is outside this range.</span></span>

## <a name="migration-from-dnx-to-csproj"></a><span data-ttu-id="9afa6-146">DNX에서 csproj로 마이그레이션</span><span class="sxs-lookup"><span data-stu-id="9afa6-146">Migration from DNX to csproj</span></span>

<span data-ttu-id="9afa6-147">.NET Core 개발에 DNX를 여전히 사용 중인 경우 다음 두 단계로 마이그레이션 프로세스를 수행해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-147">If you are still using DNX for .NET Core development, your migration process should be done in two stages:</span></span>

1. <span data-ttu-id="9afa6-148">[기존 DNX 마이그레이션 지침](from-dnx.md)에 따라 DNX에서 project-json 사용 CLI로 마이그레이션합니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-148">Use the [existing DNX migration guidance](from-dnx.md) to migrate from DNX to project-json enabled CLI.</span></span>
2. <span data-ttu-id="9afa6-149">이전 섹션의 단계에 따라 *project.json* 에서 *.csproj* 로 마이그레이션합니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-149">Follow the steps from the previous section to migrate from *project.json* to *.csproj*.</span></span>

> [!NOTE]
> <span data-ttu-id="9afa6-150">DNX는 .NET Core CLI의 Preview 1 릴리스부터 공식적으로 더 이상 사용되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-150">DNX has become officially deprecated during the Preview 1 release of the .NET Core CLI.</span></span>

## <a name="migration-from-earlier-net-core-csproj-formats-to-rtm-csproj"></a><span data-ttu-id="9afa6-151">이전 .NET Core csproj 형식에서 RTM csproj로 마이그레이션</span><span class="sxs-lookup"><span data-stu-id="9afa6-151">Migration from earlier .NET Core csproj formats to RTM csproj</span></span>

<span data-ttu-id="9afa6-152">.NET Core csproj 형식은 새 시험판 버전의 도구가 나올 때마다 변경되고 개선되었습니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-152">The .NET Core csproj format has been changing and evolving with each new pre-release version of the tooling.</span></span> <span data-ttu-id="9afa6-153">csproj의 이전 버전에서 최신 버전으로 프로젝트 파일을 마이그레이션하는 도구는 없으므로 프로젝트 파일을 수동으로 편집해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-153">There is no tool that will migrate your project file from earlier versions of csproj to the latest, so you need to manually edit the project file.</span></span> <span data-ttu-id="9afa6-154">실제 단계는 마이그레이션하는 프로젝트 파일의 버전에 따라 달라집니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-154">The actual steps depend on the version of the project file you are migrating.</span></span> <span data-ttu-id="9afa6-155">다음은 버전 간에 수행된 변경 사항에 따라 고려할 몇 가지 지침입니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-155">The following is some guidance to consider based on the changes that happened between versions:</span></span>

- <span data-ttu-id="9afa6-156">`<Project>` 요소에 도구 버전 속성이 있는 경우 제거합니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-156">Remove the tools version property from the `<Project>` element, if it exists.</span></span>
- <span data-ttu-id="9afa6-157">`<Project>` 요소에서 XML 네임스페이스(`xmlns`)를 제거합니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-157">Remove the XML namespace (`xmlns`) from the `<Project>` element.</span></span>
- <span data-ttu-id="9afa6-158">`Sdk` 특성이 없는 경우 `<Project>` 요소에 추가하고 `Microsoft.NET.Sdk` 또는 `Microsoft.NET.Sdk.Web`으로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-158">If it doesn't exist, add the `Sdk` attribute to the `<Project>` element and set it to `Microsoft.NET.Sdk` or `Microsoft.NET.Sdk.Web`.</span></span> <span data-ttu-id="9afa6-159">이 특성은 프로젝트에서 사용할 SDK를 사용하도록 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-159">This attribute specifies that the project uses the SDK to be used.</span></span> <span data-ttu-id="9afa6-160">웹앱에는 `Microsoft.NET.Sdk.Web`이 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-160">`Microsoft.NET.Sdk.Web` is used for web apps.</span></span>
- <span data-ttu-id="9afa6-161">프로젝트의 맨 위와 맨 아래에서 `<Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" />` 및 `<Import Project="$(MSBuildToolsPath)\Microsoft.CSharp.targets" />` 문을 제거합니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-161">Remove the `<Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" />` and `<Import Project="$(MSBuildToolsPath)\Microsoft.CSharp.targets" />` statements from the top and bottom of the project.</span></span> <span data-ttu-id="9afa6-162">이러한 import 문은 SDK에 포함되므로, 프로젝트에 있을 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-162">These import statements are implied by the SDK, so there is no need for them to be in the project.</span></span>
- <span data-ttu-id="9afa6-163">프로젝트에 `Microsoft.NETCore.App` 또는 `NETStandard.Library` `<PackageReference>` 항목이 있으면 제거해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-163">If you have `Microsoft.NETCore.App` or `NETStandard.Library` `<PackageReference>` items in your project, you should remove them.</span></span> <span data-ttu-id="9afa6-164">이러한 패키지 참조는 [SDK에 포함](../project-sdk/overview.md)되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-164">These package references are [implied by the SDK](../project-sdk/overview.md).</span></span>
- <span data-ttu-id="9afa6-165">`Microsoft.NET.Sdk` `<PackageReference>` 요소가 있는 경우 제거합니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-165">Remove the `Microsoft.NET.Sdk` `<PackageReference>` element, if it exists.</span></span> <span data-ttu-id="9afa6-166">SDK 참조는 `<Project>` 요소의 `Sdk` 특성을 통해 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-166">The SDK reference comes through the `Sdk` attribute on the `<Project>` element.</span></span>
- <span data-ttu-id="9afa6-167">[SDK에 포함](../project-sdk/overview.md#default-includes-and-excludes)된 [glob](https://en.wikipedia.org/wiki/Glob_(programming))을 제거합니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-167">Remove the [globs](https://en.wikipedia.org/wiki/Glob_(programming)) that are [implied by the SDK](../project-sdk/overview.md#default-includes-and-excludes).</span></span> <span data-ttu-id="9afa6-168">프로젝트에 이러한 GLOB를 남겨 두면 컴파일 항목이 중복되므로 빌드 시 오류가 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-168">Leaving these globs in your project will cause an error on build because compile items will be duplicated.</span></span>

<span data-ttu-id="9afa6-169">이러한 단계를 수행하면 프로젝트가 RTM .NET Core csproj 형식과 완벽히 호환됩니다.</span><span class="sxs-lookup"><span data-stu-id="9afa6-169">After these steps your project should be fully compatible with the RTM .NET Core csproj format.</span></span>

<span data-ttu-id="9afa6-170">이전 csproj 형식에서 새 형식으로 마이그레이션하기 전후의 예는 .NET 블로그에서 [Updating Visual Studio 2017 RC – .NET Core Tooling improvements](https://devblogs.microsoft.com/dotnet/updating-visual-studio-2017-rc-net-core-tooling-improvements/)(Visual Studio 2017 RC 업데이트 – .NET Core 도구 개선 사항) 문서를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9afa6-170">For examples of before and after the migration from old csproj format to the new one, see the [Updating Visual Studio 2017 RC – .NET Core Tooling improvements](https://devblogs.microsoft.com/dotnet/updating-visual-studio-2017-rc-net-core-tooling-improvements/) article on the .NET blog.</span></span>

## <a name="see-also"></a><span data-ttu-id="9afa6-171">추가 정보</span><span class="sxs-lookup"><span data-stu-id="9afa6-171">See also</span></span>

- [<span data-ttu-id="9afa6-172">Visual Studio 프로젝트 포팅, 마이그레이션, 업그레이드</span><span class="sxs-lookup"><span data-stu-id="9afa6-172">Port, Migrate, and Upgrade Visual Studio Projects</span></span>](/visualstudio/porting/port-migrate-and-upgrade-visual-studio-projects)
