---
description: '에 대 한 자세한 정보: 클레임 및 토큰'
title: 클레임 및 토큰
ms.date: 03/30/2017
helpviewer_keywords:
- claims [WCF], and tokens
ms.assetid: eff167f3-33f8-483d-a950-aa3e9f97a189
ms.openlocfilehash: d7d05fb63886ca7562ce478bcbcea73c3cbafcb8
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/06/2021
ms.locfileid: "99734960"
---
# <a name="claims-and-tokens"></a><span data-ttu-id="c762e-103">클레임 및 토큰</span><span class="sxs-lookup"><span data-stu-id="c762e-103">Claims and Tokens</span></span>

<span data-ttu-id="c762e-104">이 항목에서는에서 지 원하는 기본 토큰에서 WCF (Windows Communication Foundation)를 만드는 다양 한 클레임 유형에 대해 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-104">This topic describes the various claim types that Windows Communication Foundation (WCF) creates from the default tokens that it supports.</span></span>

<span data-ttu-id="c762e-105"><xref:System.IdentityModel.Claims.ClaimSet> 및 <xref:System.IdentityModel.Claims.Claim> 클래스를 사용하여 클라이언트 자격 증명 클레임을 검사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-105">You can examine the claims of a client credential by using the <xref:System.IdentityModel.Claims.ClaimSet> and <xref:System.IdentityModel.Claims.Claim> classes.</span></span> <span data-ttu-id="c762e-106">`ClaimSet`에는 `Claim` 개체의 컬렉션이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-106">The `ClaimSet` contains a collection of `Claim` objects.</span></span> <span data-ttu-id="c762e-107">각 `Claim`의 중요한 멤버는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-107">Each `Claim` has the following important members:</span></span>

- <span data-ttu-id="c762e-108"><xref:System.IdentityModel.Claims.Claim.ClaimType%2A> 속성은 생성하는 클레임의 형식을 지정하는 URI(Uniform Resource Identifier)를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-108">The <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> property returns a Uniform Resource Identifier (URI) that specifies the type of claim being made.</span></span> <span data-ttu-id="c762e-109">예를 들어 클레임 유형은 인증서의 지문이 될 수 있으며,이 경우 URI는 `http://schemas.microsoft.com/ws/20005/05/identity/claims/thumprint` 입니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-109">For example, a claim type may be a thumbprint of a certificate, in which case the URI is `http://schemas.microsoft.com/ws/20005/05/identity/claims/thumprint`.</span></span>

- <span data-ttu-id="c762e-110"><xref:System.IdentityModel.Claims.Claim.Right%2A> 속성은 클레임의 권한을 지정하는 URI를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-110">The <xref:System.IdentityModel.Claims.Claim.Right%2A> property returns a URI that specifies the right of the claim.</span></span> <span data-ttu-id="c762e-111">미리 정의된 권한은 <xref:System.IdentityModel.Claims.Rights> 클래스(<xref:System.IdentityModel.Claims.Rights.Identity%2A>,  <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A>)에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-111">Predefined rights are found in the <xref:System.IdentityModel.Claims.Rights> class (<xref:System.IdentityModel.Claims.Rights.Identity%2A>,  <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A>).</span></span>

- <span data-ttu-id="c762e-112"><xref:System.IdentityModel.Claims.Claim.Resource%2A> 속성은 클레임과 연결된 리소스를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-112">The <xref:System.IdentityModel.Claims.Claim.Resource%2A> property returns the resource associated with the claim.</span></span>

<span data-ttu-id="c762e-113">또한 각 <xref:System.IdentityModel.Claims.ClaimSet>에는 <xref:System.IdentityModel.Claims.ClaimSet.Issuer%2A> 속성이 있습니다. 이 속성은 <xref:System.IdentityModel.Claims.ClaimSet>의 `Issuer`를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-113">Each <xref:System.IdentityModel.Claims.ClaimSet> also has an <xref:System.IdentityModel.Claims.ClaimSet.Issuer%2A> property, which represents the <xref:System.IdentityModel.Claims.ClaimSet> of the `Issuer`.</span></span>

## <a name="windows-accounts"></a><span data-ttu-id="c762e-114">Windows 계정</span><span class="sxs-lookup"><span data-stu-id="c762e-114">Windows Accounts</span></span>

<span data-ttu-id="c762e-115">클라이언트 자격 증명이 Windows 사용자 계정에 매핑되는 경우 결과 <xref:System.IdentityModel.Claims.ClaimSet>의 값은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-115">Where a client credential maps to a Windows user account, the resulting <xref:System.IdentityModel.Claims.ClaimSet> has the following values:</span></span>

- <span data-ttu-id="c762e-116">`Issuer`는 <xref:System.IdentityModel.Claims.ClaimSet> 클래스의 정적 Windows 속성에 의해 반환되는 값입니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-116">The `Issuer` is the value returned by the static Windows property of the <xref:System.IdentityModel.Claims.ClaimSet> class.</span></span>

- <span data-ttu-id="c762e-117">컬렉션의 클레임은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-117">The claims in the collection are:</span></span>

  - <span data-ttu-id="c762e-118"><xref:System.IdentityModel.Claims.Claim> 값이 SID(보안 ID)이고, <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> 속성 값이 <xref:System.IdentityModel.Claims.Claim.Right%2A>이고, `Identity`가 실제 SID 값을 반환하는 <xref:System.IdentityModel.Claims.Claim.Resource%2A>.</span><span class="sxs-lookup"><span data-stu-id="c762e-118">A <xref:System.IdentityModel.Claims.Claim> with a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> value of security identifier (SID), a <xref:System.IdentityModel.Claims.Claim.Right%2A> property value of `Identity`, and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> that returns the actual SID value.</span></span> <span data-ttu-id="c762e-119">SID는 도메인 컨트롤러에서 모든 사용자에게 발급하는 고유한 값입니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-119">A SID is a unique value the domain controller issues to every user.</span></span> <span data-ttu-id="c762e-120">SID는 Windows 보안과 상호 작용하여 사용자를 식별하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-120">The SID is used to identify the user in interactions with Windows security.</span></span>

  - <span data-ttu-id="c762e-121"><xref:System.IdentityModel.Claims.Claim> 값이 SID이고, <xref:System.IdentityModel.Claims.Claim.ClaimType%2A>가 <xref:System.IdentityModel.Claims.Claim.Right%2A>이고, `PossessProperty`가 SID 값인 <xref:System.IdentityModel.Claims.Claim.Resource%2A>.</span><span class="sxs-lookup"><span data-stu-id="c762e-121">A <xref:System.IdentityModel.Claims.Claim> with a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> value of SID, a <xref:System.IdentityModel.Claims.Claim.Right%2A> of `PossessProperty`, and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> of the SID value.</span></span>

  - <span data-ttu-id="c762e-122"><xref:System.IdentityModel.Claims.Claim>이 <xref:System.IdentityModel.Claims.Claim.ClaimType%2A>이고, <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A>가 <xref:System.IdentityModel.Claims.Claim.Right%2A>이고, `PossessProperty`가 사용자 이름을 포함하는 문자열(예: "MYMACHINE\Bob")인 <xref:System.IdentityModel.Claims.Claim.Resource%2A>.</span><span class="sxs-lookup"><span data-stu-id="c762e-122">A <xref:System.IdentityModel.Claims.Claim> with a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> of <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A>, a <xref:System.IdentityModel.Claims.Claim.Right%2A> of `PossessProperty` and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> of string containing the user name (for example, "MYMACHINE\Bob").</span></span>

  - <span data-ttu-id="c762e-123">사용자가 속하는 다양한 그룹에 대한 <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A>를 가진 추가 SID 클레임</span><span class="sxs-lookup"><span data-stu-id="c762e-123">Additional SID claims with <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A> for the various groups the user belongs to.</span></span>

## <a name="certificates"></a><span data-ttu-id="c762e-124">인증서</span><span class="sxs-lookup"><span data-stu-id="c762e-124">Certificates</span></span>

<span data-ttu-id="c762e-125">클라이언트 자격 증명이 인증서이면 결과 <xref:System.IdentityModel.Claims.ClaimSet> 값은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-125">Where the client credential is a certificate, the resulting <xref:System.IdentityModel.Claims.ClaimSet> has the following values:</span></span>

- <span data-ttu-id="c762e-126">자체 발급된 인증서의 경우 `Issuer`는 <xref:System.IdentityModel.Claims.ClaimSet> 자체입니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-126">For self-issued certificates, the `Issuer` is the <xref:System.IdentityModel.Claims.ClaimSet> itself.</span></span> <span data-ttu-id="c762e-127"><xref:System.IdentityModel.Claims.ClaimSet>는 <xref:System.IdentityModel.Claims.Claim.ClaimType%2A>의 <xref:System.IdentityModel.Claims.ClaimTypes.Thumbprint%2A>, <xref:System.IdentityModel.Claims.Claim.Right%2A>의 `Identity` 및 <xref:System.IdentityModel.Claims.Claim.Resource%2A> 값(인증서의 지문을 포함하는 <xref:System.Byte> 배열)을 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-127">The <xref:System.IdentityModel.Claims.ClaimSet> returns a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> of <xref:System.IdentityModel.Claims.ClaimTypes.Thumbprint%2A>, a <xref:System.IdentityModel.Claims.Claim.Right%2A> of `Identity`, and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> value that is a <xref:System.Byte> array containing the thumbprint of the certificate.</span></span>

- <span data-ttu-id="c762e-128">인증 기관에서 발급한 인증서의 경우 발급자는 인증 기관의 인증서를 나타내는 `ClaimSet`입니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-128">For a certificate issued by a certification authority, the issuer is the `ClaimSet` representing the certification authority’s certificate.</span></span>

- <span data-ttu-id="c762e-129">컬렉션의 `Claims`는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-129">The `Claims` in the collection include:</span></span>

  - <span data-ttu-id="c762e-130">`Claim`이 지문이고, `ClaimType`가 PossessProperty이고, `Right`가 인증서의 지문을 포함하는 바이트 배열인 `Resource`</span><span class="sxs-lookup"><span data-stu-id="c762e-130">A `Claim` with a `ClaimType` of Thumbprint, a `Right` of PossessProperty, and a `Resource` that is a byte array containing the thumbprint of the certificate</span></span>

  - <span data-ttu-id="c762e-131">X500DistinguishedName, Dns, Name, Upn 및 Rsa를 포함하여 다양한 형식의 추가 PossessProperty 클레임이 인증서의 다양한 속성을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-131">Additional PossessProperty claims of various types, including X500DistinguishedName, Dns, Name, Upn, and Rsa, represent various properties of the certificate.</span></span> <span data-ttu-id="c762e-132">Rsa 클레임에 대 한 리소스는 인증서와 연결 된 공개 키입니다. **참고** 클라이언트 자격 증명 형식이 서비스에서 Windows 계정에 매핑되는 인증서 인 경우 두 개의 `ClaimSet` 개체가 생성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-132">The resource for the Rsa claim is the public key associated with the certificate.**Note** Where the client credential type is a certificate that the service maps to a Windows account, two `ClaimSet` objects are generated.</span></span> <span data-ttu-id="c762e-133">첫 번째 개체는 Windows 계정과 관련된 모든 클레임을 포함하고 두 번째 개체는 인증서와 관련된 모든 클레임을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-133">The first contains all the claims related to the Windows account and the second contains all the claims related to the certificate.</span></span>

## <a name="user-namepassword"></a><span data-ttu-id="c762e-134">사용자 이름/암호</span><span class="sxs-lookup"><span data-stu-id="c762e-134">User Name/Password</span></span>

<span data-ttu-id="c762e-135">클라이언트 자격 증명이 Windows 계정에 매핑되지 않는 사용자 이름/암호(또는 동등한 형식)인 경우 결과 `ClaimSet`는 <xref:System.IdentityModel.Claims.ClaimSet.System%2A> 클래스의 static `ClaimSet` 속성에 의해 발급됩니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-135">Where the client credential is a user name/password (or equivalent) that does not map to a Windows account, the resulting `ClaimSet` is issued by the static <xref:System.IdentityModel.Claims.ClaimSet.System%2A> property of the `ClaimSet` class.</span></span> <span data-ttu-id="c762e-136">는 `ClaimSet` `Identity` <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A> 클라이언트가 제공 하는 사용자 이름인 리소스를 가진 형식의 클레임을 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-136">The `ClaimSet` contains an `Identity` claim of type <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A> whose resource is the user name the client provides.</span></span> <span data-ttu-id="c762e-137">해당 클레임에는 `Right`의 `PossessProperty`이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-137">A corresponding claim has a `Right` of `PossessProperty`.</span></span>

## <a name="rsa-keys"></a><span data-ttu-id="c762e-138">RSA 키</span><span class="sxs-lookup"><span data-stu-id="c762e-138">RSA Keys</span></span>

<span data-ttu-id="c762e-139">인증서와 연결 되지 않은 RSA 키가 사용 되는 경우 결과는 `ClaimSet` 자체 발급 되며 해당 `Identity` 리소스가 RSA 키인 형식의 클레임을 포함 합니다 <xref:System.IdentityModel.Claims.ClaimTypes.Rsa%2A> .</span><span class="sxs-lookup"><span data-stu-id="c762e-139">Where an RSA key not associated with a certificate is used, the resulting `ClaimSet` is self-issued and contains an `Identity` claim of type <xref:System.IdentityModel.Claims.ClaimTypes.Rsa%2A> whose resource is the RSA key.</span></span> <span data-ttu-id="c762e-140">해당 클레임에는 `Right`의 `PossessProperty`이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-140">A corresponding claim has a `Right` of `PossessProperty`.</span></span>

## <a name="saml"></a><span data-ttu-id="c762e-141">SAML</span><span class="sxs-lookup"><span data-stu-id="c762e-141">SAML</span></span>

<span data-ttu-id="c762e-142">클라이언트가 SAML(Security Assertions Markup Language) 토큰으로 인증되는 경우 결과 `ClaimSet`는 SAML 토큰에 서명한 엔터티에 의해 발급되며, SAML 토큰에 서명한 STS(보안 토큰 서비스) 인증서에 의해 발급되는 경우도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-142">Where the client authenticates with a Security Assertions Markup Language (SAML) token, the resulting `ClaimSet` is issued by the entity that signed the SAML token, often the certificate of the security token service (STS) that issued the SAML token.</span></span> <span data-ttu-id="c762e-143">`ClaimSet`는 SAML 토큰에 있는 다양한 클레임을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-143">The `ClaimSet` contains various claims as found in the SAML token.</span></span> <span data-ttu-id="c762e-144">SAML 토큰에 `SamlSubject`이 아닌 이름을 가진 `null`가 있는 경우 형식이 `Identity`이고 리소스 형식이 <xref:System.IdentityModel.Claims.ClaimTypes.NameIdentifier%2A>인 <xref:System.IdentityModel.Tokens.SamlNameIdentifierClaimResource> 클레임이 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-144">If the SAML token contains a `SamlSubject` with a non-`null` name, then an `Identity` claim with a type of <xref:System.IdentityModel.Claims.ClaimTypes.NameIdentifier%2A> and a resource type of <xref:System.IdentityModel.Tokens.SamlNameIdentifierClaimResource> are created.</span></span>

## <a name="identity-claims-and-servicesecuritycontextisanonymous"></a><span data-ttu-id="c762e-145">ID 클레임 및 ServiceSecurityContext.IsAnonymous</span><span class="sxs-lookup"><span data-stu-id="c762e-145">Identity Claims and ServiceSecurityContext.IsAnonymous</span></span>

<span data-ttu-id="c762e-146">클라이언트 자격 증명으로 인해 발생 하는 모든 `ClaimSet` 개체에가 인 클레임이 포함 되지 않은 경우 `Right` `Identity,` 속성은를 <xref:System.ServiceModel.ServiceSecurityContext.IsAnonymous%2A> 반환 합니다 `true` .</span><span class="sxs-lookup"><span data-stu-id="c762e-146">If none of the `ClaimSet` objects resulting from the client credentials contain a claim with a `Right` of `Identity,` then the <xref:System.ServiceModel.ServiceSecurityContext.IsAnonymous%2A> property returns `true`.</span></span> <span data-ttu-id="c762e-147">그런 클레임이 하나 이상 있는 경우 `IsAnonymous` 속성은 `false`를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="c762e-147">If one or more such claims are present, the `IsAnonymous` property returns `false`.</span></span>

## <a name="see-also"></a><span data-ttu-id="c762e-148">참고 항목</span><span class="sxs-lookup"><span data-stu-id="c762e-148">See also</span></span>

- <xref:System.IdentityModel.Claims.ClaimSet>
- <xref:System.IdentityModel.Claims.Claim>
- <xref:System.IdentityModel.Claims.Rights>
- <xref:System.IdentityModel.Claims.ClaimTypes>
- [<span data-ttu-id="c762e-149">ID 모델을 사용하여 클레임 및 권한 부여 관리</span><span class="sxs-lookup"><span data-stu-id="c762e-149">Managing Claims and Authorization with the Identity Model</span></span>](managing-claims-and-authorization-with-the-identity-model.md)
