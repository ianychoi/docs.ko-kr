---
description: '자세히 알아보기: Windows 서비스 응용 프로그램에서 호스팅'
title: Windows 서비스 애플리케이션에서의 호스팅
ms.date: 03/30/2017
ms.assetid: f4199998-27f3-4dd9-aee4-0a4addfa9f24
ms.openlocfilehash: 702fe95b14b9bce3ffaa774e17a9fc1293717e66
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/06/2021
ms.locfileid: "99743124"
---
# <a name="hosting-in-a-windows-service-application"></a><span data-ttu-id="8f96d-103">Windows 서비스 애플리케이션에서의 호스팅</span><span class="sxs-lookup"><span data-stu-id="8f96d-103">Hosting in a Windows Service Application</span></span>

<span data-ttu-id="8f96d-104">Windows 서비스(이전의 Windows NT 서비스)에서는 장기 실행되는 실행 파일에 있어야 하는 애플리케이션에 특히 적합한 프로세스 모델을 제공하지만 사용자 인터페이스 폼을 표시하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-104">Windows services (formerly known as Windows NT services) provide a process model particularly suited to applications that must live in a long-running executable and do not display any form of user interface.</span></span> <span data-ttu-id="8f96d-105">Windows 서비스 애플리케이션의 프로세스 수명은 Windows 서비스 애플리케이션을 시작, 중지 및 일지 중지할 수 있도록 해 주는 SCM(서비스 제어 관리자)이 관리합니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-105">The process lifetime of a Windows service application is managed by the service control manager (SCM), which allows you to start, stop, and pause Windows service applications.</span></span> <span data-ttu-id="8f96d-106">컴퓨터가 시작 될 때 자동으로 시작 되도록 Windows 서비스 프로세스를 구성 하 여 "always on" 응용 프로그램에 적합 한 호스팅 환경을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-106">You can configure a Windows service process to start automatically when the computer starts, making it a suitable hosting environment for "always on" applications.</span></span> <span data-ttu-id="8f96d-107">Windows 서비스 응용 프로그램에 대 한 자세한 내용은 [Windows 서비스 응용 프로그램](https://go.microsoft.com/fwlink/?LinkId=89450)을 참조 하십시오.</span><span class="sxs-lookup"><span data-stu-id="8f96d-107">For more information about Windows service applications, see [Windows Service Applications](https://go.microsoft.com/fwlink/?LinkId=89450).</span></span>  
  
 <span data-ttu-id="8f96d-108">WCF (장기 실행 Windows Communication Foundation) 서비스를 호스팅하는 응용 프로그램은 Windows 서비스와 많은 특성을 공유 합니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-108">Applications that host long-running Windows Communication Foundation (WCF) services share many characteristics with Windows services.</span></span> <span data-ttu-id="8f96d-109">특히 WCF 서비스는 사용자와 직접 상호 작용 하지 않는 장기 실행 서버 실행 파일 이므로 어떤 형태의 사용자 인터페이스도 구현 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-109">In particular, WCF services are long-running server executables that do not interact directly with the user and therefore do not implement any form of user interface.</span></span> <span data-ttu-id="8f96d-110">따라서 Windows 서비스 응용 프로그램 내에서 WCF 서비스를 호스트 하는 것은 강력 하 고 오래 실행 되는 WCF 응용 프로그램을 빌드하기 위한 하나의 옵션입니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-110">As such, hosting WCF services inside of a Windows service application is one option for building robust, long-running, WCF applications.</span></span>  
  
 <span data-ttu-id="8f96d-111">WCF 개발자는 종종 WCF 응용 프로그램을 Windows 서비스 응용 프로그램 내부에서 호스트할 지, 아니면 IIS (Windows Process Activation Service) 호스팅 환경 인터넷 정보 서비스 내에서 호스트할 지를 결정 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-111">Often, WCF developers must decide whether to host their WCF application inside of a Windows service application or inside of the Internet Information Services (IIS) or Windows Process Activation Service (WAS) hosting environment.</span></span> <span data-ttu-id="8f96d-112">다음과 같은 경우에는 Windows 서비스 애플리케이션을 사용하는 것을 고려해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-112">You should consider using Windows service applications under the following conditions:</span></span>  
  
- <span data-ttu-id="8f96d-113">애플리케이션에서 명시적 활성화가 필요한 경우.</span><span class="sxs-lookup"><span data-stu-id="8f96d-113">Your application requires explicit activation.</span></span> <span data-ttu-id="8f96d-114">예를 들어, 서버가 들어오는 첫 번째 메시지에 대한 응답으로 동적으로 시작되는 대신 시작될 때 애플리케이션이 자동으로 시작되어야 하는 경우 Windows 서비스를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-114">For example, you should use Windows services when your application must start automatically when the server starts instead of being dynamically started in response to the first incoming message.</span></span>  
  
- <span data-ttu-id="8f96d-115">애플리케이션을 호스트하는 프로세스가 일단 시작되면 계속 실행되어야 하는 경우.</span><span class="sxs-lookup"><span data-stu-id="8f96d-115">The process that hosts your application must remain running once started.</span></span> <span data-ttu-id="8f96d-116">Windows 서비스 프로세스는 일단 시작되면 서버 관리자가 서비스 제어 관리자를 사용하여 명시적으로 종료하지 않는 한 계속 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-116">Once started, a Windows service process remains running unless explicitly shut down by a server administrator using the service control manager.</span></span> <span data-ttu-id="8f96d-117">IIS 또는 WAS에서 호스트되는 애플리케이션은 시스템 리소스의 사용을 최적화하기 위해 동적으로 시작되거나 중지될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-117">Applications hosted in IIS or WAS may be started and stopped dynamically to make optimal use of system resources.</span></span> <span data-ttu-id="8f96d-118">호스팅 프로세스의 수명을 명시적으로 제어할 필요가 있는 애플리케이션은 IIS 또는 WAS 대신 Windows 서비스를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-118">Applications that require explicit control over the lifetime of their hosting process should use Windows services instead of IIS or WAS.</span></span>  
  
- <span data-ttu-id="8f96d-119">WCF 서비스는 Windows Server 2003에서 실행 해야 하며 HTTP 이외의 전송을 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-119">Your WCF service must run on Windows Server 2003 and use transports other than HTTP.</span></span> <span data-ttu-id="8f96d-120">Windows Server 2003에서 IIS 6.0 호스팅 환경은 HTTP 통신 으로만 제한 됩니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-120">On Windows Server 2003, the IIS 6.0 hosting environment is restricted to HTTP communication only.</span></span> <span data-ttu-id="8f96d-121">Windows 서비스 응용 프로그램은이 제한이 적용 되지 않으며 net.tcp, net.pipe 및 net.tcp를 비롯 하 여 WCF에서 지 원하는 모든 전송을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-121">Windows service applications are not subject to this restriction and can use any transport WCF supports, including net.tcp, net.pipe, and net.msmq.</span></span>  
  
### <a name="to-host-wcf-inside-of-a-windows-service-application"></a><span data-ttu-id="8f96d-122">Windows 서비스 애플리케이션 대신 WCF를 호스트하려면</span><span class="sxs-lookup"><span data-stu-id="8f96d-122">To host WCF inside of a Windows service application</span></span>  
  
1. <span data-ttu-id="8f96d-123">Windows 서비스 애플리케이션을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-123">Create a Windows service application.</span></span> <span data-ttu-id="8f96d-124"><xref:System.ServiceProcess> 네임스페이스에 있는 클래스를 사용하여 관리 코드에서 Windows 서비스 애플리케이션을 작성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-124">You can write Windows service applications in managed code using the classes in the <xref:System.ServiceProcess> namespace.</span></span> <span data-ttu-id="8f96d-125">이 애플리케이션에는 <xref:System.ServiceProcess.ServiceBase>에서 상속된 하나의 클래스가 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-125">This application must include one class that inherits from <xref:System.ServiceProcess.ServiceBase>.</span></span>  
  
2. <span data-ttu-id="8f96d-126">WCF 서비스의 수명을 Windows 서비스 응용 프로그램의 수명에 연결 합니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-126">Link the lifetime of the WCF services to the lifetime of the Windows service application.</span></span> <span data-ttu-id="8f96d-127">일반적으로 호스팅 서비스가 시작 될 때 Windows 서비스 응용 프로그램에서 호스트 되는 WCF 서비스를 활성화 하 고, 호스팅 서비스가 중지 될 때 메시지 수신 대기를 중지 하 고, WCF 서비스에 오류가 발생할 때 호스팅 프로세스를 종료 하려고 합니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-127">Typically, you want WCF services hosted in a Windows service application to become active when the hosting service starts, stop listening for messages when the hosting service is stopped, and shut down the hosting process when the WCF service encounters an error.</span></span> <span data-ttu-id="8f96d-128">이렇게 하려면 다음을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-128">This can be accomplished as follows:</span></span>  
  
    - <span data-ttu-id="8f96d-129"><xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29>를 재정의하여 <xref:System.ServiceModel.ServiceHost>의 인스턴스를 하나 이상 엽니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-129">Override <xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29> to open one or more instances of <xref:System.ServiceModel.ServiceHost>.</span></span> <span data-ttu-id="8f96d-130">단일 Windows 서비스 응용 프로그램은 그룹으로 시작 및 중지 되는 여러 WCF 서비스를 호스트할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-130">A single Windows service application can host multiple WCF services that start and stop as a group.</span></span>  
  
    - <span data-ttu-id="8f96d-131"><xref:System.ServiceProcess.ServiceBase.OnStop%2A> <xref:System.ServiceModel.Channels.CommunicationObject.Closed> 에서 시작 된 실행 중인 WCF 서비스에 대해를 호출 하도록 재정의 <xref:System.ServiceModel.ServiceHost> <xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29> 합니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-131">Override <xref:System.ServiceProcess.ServiceBase.OnStop%2A> to call <xref:System.ServiceModel.Channels.CommunicationObject.Closed> on the <xref:System.ServiceModel.ServiceHost> any running WCF services that were started during <xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29>.</span></span>  
  
    - <span data-ttu-id="8f96d-132"><xref:System.ServiceModel.Channels.CommunicationObject.Faulted>의 <xref:System.ServiceModel.ServiceHost> 이벤트를 구독하고 <xref:System.ServiceProcess.ServiceController> 클래스를 사용하여 오류가 발생한 경우 Windows 서비스 애플리케이션을 종료합니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-132">Subscribe to the <xref:System.ServiceModel.Channels.CommunicationObject.Faulted> event of <xref:System.ServiceModel.ServiceHost> and use the <xref:System.ServiceProcess.ServiceController> class to shut down the Windows service application in case of error.</span></span>  
  
     <span data-ttu-id="8f96d-133">Wcf 서비스를 호스트 하는 windows 서비스 응용 프로그램은 WCF를 사용 하지 않는 Windows 서비스 응용 프로그램과 동일한 방식으로 배포 및 관리 됩니다.</span><span class="sxs-lookup"><span data-stu-id="8f96d-133">Windows service applications that host WCF services are deployed and managed in the same way as Windows service applications that do not make use of WCF.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8f96d-134">참고 항목</span><span class="sxs-lookup"><span data-stu-id="8f96d-134">See also</span></span>

- <xref:System.ServiceProcess>
- [<span data-ttu-id="8f96d-135">연습: 구성 요소 디자이너에서 Windows 서비스 애플리케이션 만들기</span><span class="sxs-lookup"><span data-stu-id="8f96d-135">Walkthrough: Creating a Windows Service Application in the Component Designer</span></span>](https://go.microsoft.com/fwlink/?LinkId=94875)
- [<span data-ttu-id="8f96d-136">방법: 관리형 Windows 서비스에서 WCF 서비스 호스팅</span><span class="sxs-lookup"><span data-stu-id="8f96d-136">How to: Host a WCF Service in a Managed Windows Service</span></span>](how-to-host-a-wcf-service-in-a-managed-windows-service.md)
- [<span data-ttu-id="8f96d-137">Windows Service 호스트</span><span class="sxs-lookup"><span data-stu-id="8f96d-137">Windows Service Host</span></span>](../samples/windows-service-host.md)
- [<span data-ttu-id="8f96d-138">서비스 애플리케이션 프로그래밍 아키텍처</span><span class="sxs-lookup"><span data-stu-id="8f96d-138">Service Application Programming Architecture</span></span>](https://go.microsoft.com/fwlink/?LinkId=94876)
- <span data-ttu-id="8f96d-139">[Windows Server App Fabric 호스팅 기능](/previous-versions/appfabric/ee677189(v=azure.10))</span><span class="sxs-lookup"><span data-stu-id="8f96d-139">[Windows Server App Fabric Hosting Features](/previous-versions/appfabric/ee677189(v=azure.10))</span></span>
