---
description: '자세한 정보: 방법: MetadataExchangeClient를 사용 하 여 메타 데이터 검색'
title: '방법: MetadataExchangeClient를 사용하여 메타데이터 검색'
ms.date: 03/30/2017
ms.assetid: 0754e9dc-13c5-45c2-81b5-f3da466e5a87
ms.openlocfilehash: 17206bbba2ccde5961326a431b019fb7718f6cd4
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/06/2021
ms.locfileid: "99734336"
---
# <a name="how-to-use-metadataexchangeclient-to-retrieve-metadata"></a><span data-ttu-id="ec41e-103">방법: MetadataExchangeClient를 사용하여 메타데이터 검색</span><span class="sxs-lookup"><span data-stu-id="ec41e-103">How to: Use MetadataExchangeClient to Retrieve Metadata</span></span>

<span data-ttu-id="ec41e-104">WS-MetadataExchange(MEX) 프로토콜을 사용하여 메타데이터를 다운로드하려면 <xref:System.ServiceModel.Description.MetadataExchangeClient> 클래스를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="ec41e-104">Use the <xref:System.ServiceModel.Description.MetadataExchangeClient> class to download metadata using the WS-MetadataExchange (MEX) protocol.</span></span> <span data-ttu-id="ec41e-105">검색된 메타데이터 파일은 <xref:System.ServiceModel.Description.MetadataSet> 개체로 반환됩니다.</span><span class="sxs-lookup"><span data-stu-id="ec41e-105">The retrieved metadata files are returned as a <xref:System.ServiceModel.Description.MetadataSet> object.</span></span> <span data-ttu-id="ec41e-106">반환된 <xref:System.ServiceModel.Description.MetadataSet> 개체에는 <xref:System.ServiceModel.Description.MetadataSection> 개체의 컬렉션이 들어 있으며, 각 개체에는 특정 메타데이터 언어와 식별자가 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ec41e-106">The returned <xref:System.ServiceModel.Description.MetadataSet> object contains a collection of <xref:System.ServiceModel.Description.MetadataSection> objects, each of which contains a specific metadata dialect and an identifier.</span></span> <span data-ttu-id="ec41e-107">반환된 메타데이터는 파일로 작성할 수 있으며, 반환된 메타데이터에 WSDL(웹 서비스 기술 언어) 문서가 있는 경우에는 <xref:System.ServiceModel.Description.WsdlImporter>를 사용하여 메타데이터를 가져올 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ec41e-107">You can write the returned metadata to files or, if the returned metadata contains Web Services Description Language (WSDL) documents, you can import the metadata using the <xref:System.ServiceModel.Description.WsdlImporter>.</span></span>  
  
 <span data-ttu-id="ec41e-108">주소를 사용하는 <xref:System.ServiceModel.Description.MetadataExchangeClient> 생성자는 주소의 URI(Uniform Resource Identifier) 체계와 일치하는 <xref:System.ServiceModel.Description.MetadataExchangeBindings> 정적 클래스의 바인딩을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="ec41e-108">The <xref:System.ServiceModel.Description.MetadataExchangeClient> constructors that take an address use the binding on the <xref:System.ServiceModel.Description.MetadataExchangeBindings> static class that matches the Uniform Resource Identifier (URI) scheme of the address.</span></span> <span data-ttu-id="ec41e-109">또는 사용할 바인딩을 명시적으로 지정할 수 있도록 하는 <xref:System.ServiceModel.Description.MetadataExchangeClient> 생성자를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ec41e-109">You can alternatively use the <xref:System.ServiceModel.Description.MetadataExchangeClient> constructor that allows you to explicitly specify the binding to use.</span></span> <span data-ttu-id="ec41e-110">지정된 바인딩을 사용하여 모든 메타데이터 참조를 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ec41e-110">The specified binding is used to resolve all metadata references.</span></span>  
  
 <span data-ttu-id="ec41e-111">WCF (다른 Windows Communication Foundation) 클라이언트와 마찬가지로 <xref:System.ServiceModel.Description.MetadataExchangeClient> 형식에서는 끝점 구성 이름을 사용 하 여 클라이언트 끝점 구성을 로드 하기 위한 생성자를 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="ec41e-111">Just like any other Windows Communication Foundation (WCF) client, the <xref:System.ServiceModel.Description.MetadataExchangeClient> type provides a constructor for loading client endpoint configurations using the endpoint configuration name.</span></span> <span data-ttu-id="ec41e-112">지정된 엔드포인트 구성은 <xref:System.ServiceModel.Description.IMetadataExchange> 계약을 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ec41e-112">The specified endpoint configuration must specify the <xref:System.ServiceModel.Description.IMetadataExchange> contract.</span></span> <span data-ttu-id="ec41e-113">엔드포인트 구성에 있는 주소는 로드되지 않으므로, 주소를 사용하는 <xref:System.ServiceModel.Description.MetadataExchangeClient.GetMetadata%2A> 오버로드 중 하나를 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ec41e-113">The address in the endpoint configuration is not loaded, so you must use one of the <xref:System.ServiceModel.Description.MetadataExchangeClient.GetMetadata%2A> overloads that take an address.</span></span> <span data-ttu-id="ec41e-114">ph x="1" /&gt; 인스턴스를 사용하여 메타데이터 주소를 지정하면, <xref:System.ServiceModel.Description.MetadataExchangeClient>에서는 해당 주소가 MEX 엔드포인트를 가리키는 것으로 간주합니다.</span><span class="sxs-lookup"><span data-stu-id="ec41e-114">When you specify the metadata address using an <xref:System.ServiceModel.EndpointAddress> instance, the <xref:System.ServiceModel.Description.MetadataExchangeClient> assumes that the address points to a MEX endpoint.</span></span> <span data-ttu-id="ec41e-115">메타데이터 주소를 URL로 지정하는 경우에는 사용할 <xref:System.ServiceModel.Description.MetadataExchangeClientMode>도 MEX 또는 HTTP GET 중에서 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ec41e-115">If you specify the metadata address as a URL, then you need to also specify which <xref:System.ServiceModel.Description.MetadataExchangeClientMode> to use, MEX or HTTP GET.</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="ec41e-116">기본적으로 <xref:System.ServiceModel.Description.MetadataExchangeClient>는 WSDL 및 XML 스키마에서 가져오거나 포함하는 모든 참조를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="ec41e-116">By default, the <xref:System.ServiceModel.Description.MetadataExchangeClient> resolves all references for you, including WSDL and XML Schema imports and includes.</span></span> <span data-ttu-id="ec41e-117"><xref:System.ServiceModel.Description.MetadataExchangeClient.ResolveMetadataReferences%2A> 속성을 `false`로 설정하면 이 기능을 사용하지 않도록 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ec41e-117">You can disable this functionality by setting the <xref:System.ServiceModel.Description.MetadataExchangeClient.ResolveMetadataReferences%2A> property to `false`.</span></span> <span data-ttu-id="ec41e-118">그리고 <xref:System.ServiceModel.Description.MetadataExchangeClient.MaximumResolvedReferences%2A> 속성을 사용하여 확인할 최대 참조 수를 제어할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ec41e-118">You can control the maximum number of references to resolve using the <xref:System.ServiceModel.Description.MetadataExchangeClient.MaximumResolvedReferences%2A> property.</span></span> <span data-ttu-id="ec41e-119">또한 이 속성은 검색되는 메타데이터 양을 제어하기 위해 바인딩의 `MaxReceivedMessageSize` 속성과 함께 사용할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ec41e-119">You can use this property in conjunction with the `MaxReceivedMessageSize` property on the binding to control how much metadata is retrieved.</span></span>  
  
### <a name="to-use-metadataexchangeclient-to-obtain-metadata"></a><span data-ttu-id="ec41e-120">MetadataExchangeClient를 사용하여 메타데이터를 가져오려면</span><span class="sxs-lookup"><span data-stu-id="ec41e-120">To use MetadataExchangeClient to obtain metadata</span></span>  
  
1. <span data-ttu-id="ec41e-121">바인딩, 엔드포인트 구성 이름 또는 메타데이터의 주소를 명시적으로 지정하여 새로운 <xref:System.ServiceModel.Description.MetadataExchangeClient> 개체를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="ec41e-121">Create a new <xref:System.ServiceModel.Description.MetadataExchangeClient> object by explicitly specifying a binding, an endpoint configuration name, or the address of the metadata.</span></span>  
  
2. <span data-ttu-id="ec41e-122">필요에 따라 <xref:System.ServiceModel.Description.MetadataExchangeClient>를 구성합니다.</span><span class="sxs-lookup"><span data-stu-id="ec41e-122">Configure the <xref:System.ServiceModel.Description.MetadataExchangeClient> to suit your needs.</span></span> <span data-ttu-id="ec41e-123">예를 들어 메타데이터 요청 시 사용할 자격 증명을 지정하고, 확인할 메타데이터 참조 방법을 제어하며, 시간 제한을 초과하기 전에 메타데이터 요청 <xref:System.ServiceModel.Description.MetadataExchangeClient.OperationTimeout%2A> 속성을 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ec41e-123">For example, you can specify credentials to use when requesting metadata, control how metadata references are resolved, and set the <xref:System.ServiceModel.Description.MetadataExchangeClient.OperationTimeout%2A> property to control how long the metadata request has to return before it times out.</span></span>  
  
3. <span data-ttu-id="ec41e-124"><xref:System.ServiceModel.Description.MetadataSet> 메서드 중 하나를 호출하여, 검색된 메타데이터가 들어 있는 <xref:System.ServiceModel.Description.MetadataExchangeClient.GetMetadata%2A> 개체를 구합니다.</span><span class="sxs-lookup"><span data-stu-id="ec41e-124">Obtain the <xref:System.ServiceModel.Description.MetadataSet> object that contains the retrieved metadata by calling one of the <xref:System.ServiceModel.Description.MetadataExchangeClient.GetMetadata%2A> methods.</span></span> <span data-ttu-id="ec41e-125"><xref:System.ServiceModel.Description.MetadataExchangeClient.GetMetadata%2A> 생성 시 주소를 명시적으로 지정한 경우에는 인수를 사용하지 않는 <xref:System.ServiceModel.Description.MetadataExchangeClient> 오버로드만 사용할 수 있음에 유의하십시오.</span><span class="sxs-lookup"><span data-stu-id="ec41e-125">Note that you can only use the <xref:System.ServiceModel.Description.MetadataExchangeClient.GetMetadata%2A> overload that takes no arguments if you explicitly specified an address when constructing the <xref:System.ServiceModel.Description.MetadataExchangeClient>.</span></span>  
  
## <a name="example"></a><span data-ttu-id="ec41e-126">예제</span><span class="sxs-lookup"><span data-stu-id="ec41e-126">Example</span></span>  

 <span data-ttu-id="ec41e-127">다음 코드 예제에서는 <xref:System.ServiceModel.Description.MetadataExchangeClient>를 사용하여 메타데이터 파일을 다운로드하고 열거하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="ec41e-127">The following code example shows how to use <xref:System.ServiceModel.Description.MetadataExchangeClient> to download and enumerate metadata files.</span></span>  

 [!code-csharp[MetadataResolver#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/metadataresolver/cs/client.cs#3)]  

## <a name="compiling-the-code"></a><span data-ttu-id="ec41e-128">코드 컴파일</span><span class="sxs-lookup"><span data-stu-id="ec41e-128">Compiling the Code</span></span>  

 <span data-ttu-id="ec41e-129">이 코드 예제를 컴파일하려면 System.ServiceModel.dll 어셈블리를 참조하여 <xref:System.ServiceModel.Description> 네임스페이스를 가져와야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ec41e-129">To compile this code example, you must reference the System.ServiceModel.dll assembly and import the <xref:System.ServiceModel.Description> namespace.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ec41e-130">참고 항목</span><span class="sxs-lookup"><span data-stu-id="ec41e-130">See also</span></span>

- <xref:System.ServiceModel.Description.MetadataResolver>
- <xref:System.ServiceModel.Description.MetadataExchangeClient>
- <xref:System.ServiceModel.Description.WsdlImporter>
