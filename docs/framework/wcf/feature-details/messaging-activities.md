---
description: '자세한 정보: 메시징 작업'
title: 메시징 활동
ms.date: 03/30/2017
ms.assetid: 8498f215-1823-4aba-a6e1-391407f8c273
ms.openlocfilehash: fc98081cabc552cd51bf35db3bed9443220fc065
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/06/2021
ms.locfileid: "99756073"
---
# <a name="messaging-activities"></a><span data-ttu-id="b8c54-103">메시징 활동</span><span class="sxs-lookup"><span data-stu-id="b8c54-103">Messaging activities</span></span>

<span data-ttu-id="b8c54-104">메시징 작업을 사용하면 워크플로를 통해 WCF 메시지를 보내고 받을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-104">Messaging activities allow workflows to send and receive WCF messages.</span></span> <span data-ttu-id="b8c54-105">워크플로에 메시징 작업을 추가하면 훨씬 더 복잡한 MEP(메시지 교환 패턴)를 모델링할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-105">By adding messaging activities to a workflow you can model any arbitrarily complex message exchange patterns (MEP).</span></span>

## <a name="message-exchange-patterns"></a><span data-ttu-id="b8c54-106">메시지 교환 패턴</span><span class="sxs-lookup"><span data-stu-id="b8c54-106">Message exchange patterns</span></span>

<span data-ttu-id="b8c54-107">다음과 같은 세 가지 기본 메시지 교환 패턴이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-107">There are three basic message exchange patterns:</span></span>

- <span data-ttu-id="b8c54-108">**데이터 그램** -데이터 그램 mep를 사용 하는 경우 클라이언트는 서비스에 메시지를 보내지만 서비스는 응답 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-108">**Datagram** - When using the datagram MEP the client sends a message to the service, but the service does not respond.</span></span> <span data-ttu-id="b8c54-109">이를 "실행 후 제거"라고도 합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-109">This is sometimes called "fire and forget".</span></span> <span data-ttu-id="b8c54-110">실행 후 제거 교환은 성공적인 전달에 대한 out-of-band 확인이 필요한 교환입니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-110">A fire and forget exchange is one that requires out-of-band confirmation of successful delivery.</span></span> <span data-ttu-id="b8c54-111">메시지는 전송 중에 손실되어 서비스에 전달되지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-111">The message might be lost in transit and never reach the service.</span></span> <span data-ttu-id="b8c54-112">즉, 클라이언트가 메시지를 성공적으로 보내도 서비스가 메시지를 수신한다고 보장할 수는 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-112">If the client successfully sends a message, it does not guarantee that the service has received the message.</span></span> <span data-ttu-id="b8c54-113">데이터그램을 기반으로 사용자 고유의 MEP를 빌드할 수 있으므로 데이터그램은 메시징 작업의 기본 구성 요소입니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-113">The datagram is a fundamental building block for messaging, as you can build your own MEPs on top of it.</span></span>

- <span data-ttu-id="b8c54-114">**요청-응답** -요청-응답 mep를 사용 하는 경우 클라이언트는 서비스에 메시지를 보내고 서비스는 필요한 처리를 수행한 다음 응답을 클라이언트에 다시 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-114">**Request-Response** - When using the request-response MEP the client sends a message to the service, the service does the required processing, and then sends a response back to the client.</span></span> <span data-ttu-id="b8c54-115">이 패턴은 요청-응답 쌍으로 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-115">The pattern consists of request-response pairs.</span></span> <span data-ttu-id="b8c54-116">RPC(원격 프로시저 호출) 및 브라우저 GET 요청 등이 요청-응답 호출에 해당합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-116">Examples of request-response calls are remote procedure calls (RPC) and browser GET requests.</span></span> <span data-ttu-id="b8c54-117">이 패턴을 반이중이라고도 합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-117">This pattern is also known as half-duplex.</span></span>

- <span data-ttu-id="b8c54-118">**이중** -이중 mep를 사용 하는 경우 클라이언트와 서비스는 임의의 순서로 메시지를 보낼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-118">**Duplex** - When using the duplex MEP the client and service can send messages to each other in any order.</span></span> <span data-ttu-id="b8c54-119">이중 MEP는 말로 전달되는 각 단어가 메시지에 해당하는 전화 통화와 같습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-119">The duplex MEP is like a phone conversation, where each word being spoken is a message.</span></span>

<span data-ttu-id="b8c54-120">메시징 작업을 사용하면 이러한 기본 MEP뿐 아니라 훨씬 더 복잡한 MEP도 구현할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-120">The messaging activities allow you to implement any of these basic MEPs as well as any arbitrarily complex MEP.</span></span>

## <a name="messaging-activities"></a><span data-ttu-id="b8c54-121">메시징 활동</span><span class="sxs-lookup"><span data-stu-id="b8c54-121">Messaging activities</span></span>

<span data-ttu-id="b8c54-122">[!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)]에서는 다음과 같은 메시징 작업을 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-122">The [!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)] defines the following messaging activities:</span></span>

- <span data-ttu-id="b8c54-123"><xref:System.ServiceModel.Activities.Send>- <xref:System.ServiceModel.Activities.Send> 활동을 사용하여 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-123"><xref:System.ServiceModel.Activities.Send>- Use the <xref:System.ServiceModel.Activities.Send> activity to send a message.</span></span>

- <span data-ttu-id="b8c54-124"><xref:System.ServiceModel.Activities.SendReply> - <xref:System.ServiceModel.Activities.SendReply> 활동을 사용하여 수신된 메시지에 대한 응답을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-124"><xref:System.ServiceModel.Activities.SendReply> - Use the <xref:System.ServiceModel.Activities.SendReply> activity to send a response to a received message.</span></span> <span data-ttu-id="b8c54-125">이 작업은 요청/회신 MEP를 구현할 때 워크플로 서비스에서 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-125">This activity is used by workflow services when implementing a request/reply MEP.</span></span>

- <span data-ttu-id="b8c54-126"><xref:System.ServiceModel.Activities.Receive>- <xref:System.ServiceModel.Activities.Receive> 활동을 사용하여 메시지를 받습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-126"><xref:System.ServiceModel.Activities.Receive>- Use the <xref:System.ServiceModel.Activities.Receive> activity to receive a message.</span></span>

- <span data-ttu-id="b8c54-127"><xref:System.ServiceModel.Activities.ReceiveReply>- <xref:System.ServiceModel.Activities.ReceiveReply> 활동을 사용하여 회신 메시지를 받습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-127"><xref:System.ServiceModel.Activities.ReceiveReply> - Use the <xref:System.ServiceModel.Activities.ReceiveReply> activity to receive a reply message.</span></span> <span data-ttu-id="b8c54-128">이 작업은 요청/회신 MEP를 구현할 때 워크플로 서비스 클라이언트에서 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-128">This activity is used by workflow service clients when implementing a request/reply MEP.</span></span>

## <a name="messaging-activities-and-message-exchange-patterns"></a><span data-ttu-id="b8c54-129">메시징 활동 및 메시지 교환 패턴</span><span class="sxs-lookup"><span data-stu-id="b8c54-129">Messaging activities and message exchange patterns</span></span>

<span data-ttu-id="b8c54-130">데이터그램 MEP는 메시지를 보내는 클라이언트와 메시지를 받는 서비스로 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-130">A datagram MEP involves a client sending a message and a service receiving the message.</span></span> <span data-ttu-id="b8c54-131">클라이언트가 워크플로이면 <xref:System.ServiceModel.Activities.Send> 작업을 사용하여 메시지를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-131">If the client is a workflow use a <xref:System.ServiceModel.Activities.Send> activity to send the message.</span></span> <span data-ttu-id="b8c54-132">워크플로에서 이 메시지를 받으려면 <xref:System.ServiceModel.Activities.Receive> 작업을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-132">To receive that message in a workflow, use a <xref:System.ServiceModel.Activities.Receive> activity.</span></span> <span data-ttu-id="b8c54-133"><xref:System.ServiceModel.Activities.Send> 및 <xref:System.ServiceModel.Activities.Receive> 작업에는 `Content`라는 속성이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-133">The <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.Receive> activities each have a property named `Content`.</span></span> <span data-ttu-id="b8c54-134">이 속성에는 보내거나 받는 데이터가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-134">This property contains the data being sent or received.</span></span> <span data-ttu-id="b8c54-135">요청-응답 MEP를 구현하는 경우 클라이언트와 서비스 둘 다 활동 쌍을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-135">When implementing the request-response MEP both the client and the service use pairs of activities.</span></span> <span data-ttu-id="b8c54-136">클라이언트는 <xref:System.ServiceModel.Activities.Send> 활동을 사용하여 메시지를 보내고 <xref:System.ServiceModel.Activities.ReceiveReply> 활동을 사용하여 서비스의 응답을 받습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-136">The client uses a <xref:System.ServiceModel.Activities.Send> activity to send the message and a <xref:System.ServiceModel.Activities.ReceiveReply> activity to receive the response from the service.</span></span> <span data-ttu-id="b8c54-137">이러한 두 활동은 <xref:System.ServiceModel.Activities.ReceiveReply.Request%2A> 속성을 통해 서로 연결됩니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-137">These two activities are associated with each other by the <xref:System.ServiceModel.Activities.ReceiveReply.Request%2A> property.</span></span> <span data-ttu-id="b8c54-138">이 속성은 원본 메시지를 보낸 <xref:System.ServiceModel.Activities.Send> 활동으로 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-138">This property is set to the <xref:System.ServiceModel.Activities.Send> activity that sent the original message.</span></span> <span data-ttu-id="b8c54-139">서비스도 마찬가지로 연결된 활동 쌍인 <xref:System.ServiceModel.Activities.Receive>와 <xref:System.ServiceModel.Activities.SendReply>를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-139">The service also uses a pair of associated activities: <xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.SendReply>.</span></span> <span data-ttu-id="b8c54-140">이러한 두 활동은 <xref:System.ServiceModel.Activities.SendReply.Request%2A> 속성을 통해 연결됩니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-140">These two activities are associated by the <xref:System.ServiceModel.Activities.SendReply.Request%2A> property.</span></span> <span data-ttu-id="b8c54-141">이 속성은 원본 메시지를 받은 <xref:System.ServiceModel.Activities.Receive> 활동으로 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-141">This property is set to the <xref:System.ServiceModel.Activities.Receive> activity that received the original message.</span></span> <span data-ttu-id="b8c54-142"><xref:System.ServiceModel.Activities.ReceiveReply> 및 <xref:System.ServiceModel.Activities.SendReply>와 마찬가지로 <xref:System.ServiceModel.Activities.Send> 및 <xref:System.ServiceModel.Activities.Receive> 활동을 사용하면 <xref:System.ServiceModel.Channels.Message> 인스턴스나 메시지 계약 형식을 보낼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-142">The <xref:System.ServiceModel.Activities.ReceiveReply> and <xref:System.ServiceModel.Activities.SendReply> activities, like <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.Receive> allow you to send a <xref:System.ServiceModel.Channels.Message> instance or a message contract type.</span></span>

<span data-ttu-id="b8c54-143">워크플로의 장기 실행 특성 때문에 이중 패턴의 통신도 장기 실행 대화를 지원해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-143">Because of the long-running nature of workflows, it is important for the duplex pattern of communication to also support long-running conversations.</span></span> <span data-ttu-id="b8c54-144">장기 실행 대화를 지원하려면 대화를 시작하는 클라이언트가 나중에 데이터가 사용 가능하게 될 때 해당 대화를 다시 호출할 수 있는 기회를 서비스에 제공해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-144">To support long-running conversations, clients who initiate the conversation must provide the service with an opportunity to call it back at a later time when the data becomes available.</span></span> <span data-ttu-id="b8c54-145">예를 들어 구매 주문 요청이 관리자의 승인을 얻기 위해 전송되었지만 하루, 일주일, 심지어 일 년 동안 처리되지 않을 수 있습니다. 따라서 구매 주문 승인을 관리하는 워크플로는 승인을 얻은 후 다시 시작되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-145">For example, a purchase order request is submitted for manager approval, but it might not be processed for a day, a week, or even a year; the workflow that manages the purchase order approval must know to resume after the approval is given.</span></span> <span data-ttu-id="b8c54-146">이 패턴의 이중 통신은 상관 관계를 사용하는 워크플로에서 지원됩니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-146">This pattern of duplex communication is supported in workflows using correlation.</span></span> <span data-ttu-id="b8c54-147">이중 패턴을 구현하려면 <xref:System.ServiceModel.Activities.Send> 및 <xref:System.ServiceModel.Activities.Receive> 활동을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-147">To implement a duplex pattern, use <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.Receive> activities.</span></span> <span data-ttu-id="b8c54-148">활동에서 <xref:System.ServiceModel.Activities.Receive> 를 사용 하 여 상관 관계를 초기화 <xref:System.ServiceModel.Activities.CorrelationHandle> 합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-148">On the <xref:System.ServiceModel.Activities.Receive> activity, initialize a correlation using <xref:System.ServiceModel.Activities.CorrelationHandle>.</span></span> <span data-ttu-id="b8c54-149"><xref:System.ServiceModel.Activities.Send> 작업에서는 이 상관 관계의 핸들을 <xref:System.ServiceModel.Activities.Send.CorrelatesWith%2A> 속성 값으로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-149">On the <xref:System.ServiceModel.Activities.Send> activity set that correlation handle as the <xref:System.ServiceModel.Activities.Send.CorrelatesWith%2A> property value.</span></span> <span data-ttu-id="b8c54-150">자세한 내용은 [내구성이 있는 이중](durable-duplex-correlation.md)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="b8c54-150">For more information, see [Durable Duplex](durable-duplex-correlation.md).</span></span>

> [!NOTE]
> <span data-ttu-id="b8c54-151">워크플로는 콜백 상관 관계 ("영 속 이중")를 사용 하는 이중의 이중 구현은 장기 실행 대화를 위한 것입니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-151">Workflow’s implementation of duplex using a callback correlation ("Durable Duplex") is intended for long-running conversations.</span></span> <span data-ttu-id="b8c54-152">대화가 단기 실행(채널의 수명)이고 콜백 계약이 있는 WCF 이중과 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-152">This is not the same as WCF duplex with callback contracts where the conversation is short-running (the lifetime of the channel).</span></span>

## <a name="message-formatting-and-messaging-activities"></a><span data-ttu-id="b8c54-153">메시지 서식 지정 및 메시징 작업</span><span class="sxs-lookup"><span data-stu-id="b8c54-153">Message formatting and messaging activities</span></span>

<span data-ttu-id="b8c54-154"><xref:System.ServiceModel.Activities.Receive> 및 <xref:System.ServiceModel.Activities.ReceiveReply> 작업에는 `Content`라는 속성이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-154">The <xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.ReceiveReply> activities have a property named `Content`.</span></span> <span data-ttu-id="b8c54-155">이 속성은 <xref:System.ServiceModel.Activities.ReceiveContent> 형식이며 <xref:System.ServiceModel.Activities.Receive> 또는 <xref:System.ServiceModel.Activities.ReceiveReply> 작업이 받는 데이터를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-155">This property is of type <xref:System.ServiceModel.Activities.ReceiveContent> and represents data the <xref:System.ServiceModel.Activities.Receive> or <xref:System.ServiceModel.Activities.ReceiveReply> activity receives.</span></span> <span data-ttu-id="b8c54-156">.NET Framework에서는 <xref:System.ServiceModel.Activities.ReceiveMessageContent>에서 파생되는 <xref:System.ServiceModel.Activities.ReceiveParametersContent> 및 <xref:System.ServiceModel.Activities.ReceiveContent>라는 두 개의 관련 클래스를 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-156">The .NET Framework defines two related classes called <xref:System.ServiceModel.Activities.ReceiveMessageContent> and <xref:System.ServiceModel.Activities.ReceiveParametersContent> both of which are derived from <xref:System.ServiceModel.Activities.ReceiveContent>.</span></span> <span data-ttu-id="b8c54-157"><xref:System.ServiceModel.Activities.Receive> 또는 <xref:System.ServiceModel.Activities.ReceiveReply> 작업의 `Content` 속성을 이러한 형식 중 하나의 인스턴스로 설정하면 데이터를 워크플로 서비스로 받을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-157">Set the <xref:System.ServiceModel.Activities.Receive> or <xref:System.ServiceModel.Activities.ReceiveReply> activity’s `Content` property to an instance of one of these types to receive data into a workflow service.</span></span> <span data-ttu-id="b8c54-158">사용할 형식은 작업이 받는 데이터의 형식에 따라 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-158">The type to use depends upon the type of data the activity receives.</span></span> <span data-ttu-id="b8c54-159">작업이 `Message` 개체나 메시지 계약 형식을 받으면 <xref:System.ServiceModel.Activities.ReceiveMessageContent>를 사용하고,</span><span class="sxs-lookup"><span data-stu-id="b8c54-159">If the activity receives a `Message` object or a message contract type, use <xref:System.ServiceModel.Activities.ReceiveMessageContent>.</span></span> <span data-ttu-id="b8c54-160">작업이 데이터 계약 집합 또는 serialize 가능한 XML 형식을 수신하면 <xref:System.ServiceModel.Activities.ReceiveParametersContent>를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-160">If the activity receives a set of data contract or XML types that can be serialized, use <xref:System.ServiceModel.Activities.ReceiveParametersContent>.</span></span> <span data-ttu-id="b8c54-161"><xref:System.ServiceModel.Activities.ReceiveParametersContent>를 사용하면 여러 매개 변수를 보낼 수 있는 반면 <xref:System.ServiceModel.Activities.ReceiveMessageContent>를 사용하면 하나의 개체, 즉 메시지(또는 메시지 계약 형식)만 보낼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-161"><xref:System.ServiceModel.Activities.ReceiveParametersContent> allows you to send multiple parameters, whereas <xref:System.ServiceModel.Activities.ReceiveMessageContent> only allows you to send one object, the message (or message contract type).</span></span>

> [!NOTE]
> <span data-ttu-id="b8c54-162"><xref:System.ServiceModel.Activities.ReceiveMessageContent>는 serialize할 수 있는 하나의 데이터 계약이나 XML 형식에 대해서도 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-162"><xref:System.ServiceModel.Activities.ReceiveMessageContent> can also be used with a single data contract or XML type that can be serialized.</span></span> <span data-ttu-id="b8c54-163">하나의 매개 변수와 함께 <xref:System.ServiceModel.Activities.ReceiveParametersContent>를 사용하는 것과 <xref:System.ServiceModel.Activities.ReceiveMessageContent>에 직접 전달된 개체를 사용하는 것의 차이점은 통신 형식에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-163">The difference between using <xref:System.ServiceModel.Activities.ReceiveParametersContent> with a single parameter and the object passed directly to <xref:System.ServiceModel.Activities.ReceiveMessageContent> is the wire-format.</span></span> <span data-ttu-id="b8c54-164">매개 변수의 내용은 작업 이름에 해당하는 XML 요소로 래핑되고 serialize된 개체는 매개 변수 이름을 사용하는 XML 요소로 래핑됩니다(예: `<Echo><msg>Hello, World</msg></Echo>`).</span><span class="sxs-lookup"><span data-stu-id="b8c54-164">The parameter’s content is wrapped in an XML element that corresponds to the operation name and the serialized object is wrapped in an XML element using the parameter name (for example, `<Echo><msg>Hello, World</msg></Echo>`).</span></span> <span data-ttu-id="b8c54-165">메시지 내용은 작업 이름으로 래핑되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-165">The message content is not wrapped by the operation name.</span></span> <span data-ttu-id="b8c54-166">대신 serialize된 개체가 XML 정규화된 형식 이름을 사용하여 XML 요소 내에 배치됩니다(예: `<string>Hello, World</string>`).</span><span class="sxs-lookup"><span data-stu-id="b8c54-166">Instead, the serialized object is placed within an XML element using the XML-qualified type name (for example, `<string>Hello, World</string>`).</span></span>

<span data-ttu-id="b8c54-167"><xref:System.ServiceModel.Activities.Send> 및 <xref:System.ServiceModel.Activities.SendReply> 작업에도 `Content`라는 속성이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-167">The <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.SendReply> activities also have a property named `Content`.</span></span> <span data-ttu-id="b8c54-168">이 속성은 <xref:System.ServiceModel.Activities.SendContent> 형식이며 <xref:System.ServiceModel.Activities.Send> 또는 <xref:System.ServiceModel.Activities.SendReply> 작업이 보내는 데이터를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-168">This property is of type <xref:System.ServiceModel.Activities.SendContent> and represents data the <xref:System.ServiceModel.Activities.Send> or <xref:System.ServiceModel.Activities.SendReply> activity sends.</span></span> <span data-ttu-id="b8c54-169">.NET Framework에서는 <xref:System.ServiceModel.Activities.SendMessageContent>에서 파생되는 <xref:System.ServiceModel.Activities.SendParametersContent> 및 <xref:System.ServiceModel.Activities.SendContent>라는 두 개의 관련 형식을 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-169">The .NET Framework defines two related types called <xref:System.ServiceModel.Activities.SendMessageContent> and <xref:System.ServiceModel.Activities.SendParametersContent> both of which are derived from <xref:System.ServiceModel.Activities.SendContent>.</span></span> <span data-ttu-id="b8c54-170"><xref:System.ServiceModel.Activities.Send> 또는 <xref:System.ServiceModel.Activities.SendReply> 작업의 `Content` 속성을 이러한 형식 중 하나의 인스턴스로 설정하면 워크플로 서비스에서 데이터를 보낼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-170">Set the <xref:System.ServiceModel.Activities.Send> or <xref:System.ServiceModel.Activities.SendReply> activity’s `Content` property to an instance of one of these types to send data from a workflow service.</span></span> <span data-ttu-id="b8c54-171">사용할 형식은 작업이 보내는 데이터의 형식에 따라 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-171">The type to use depends upon the type of data the activity sends.</span></span> <span data-ttu-id="b8c54-172">작업이 `Message` 개체나 메시지 계약 형식을 보내면 <xref:System.ServiceModel.Activities.SendMessageContent>를 사용하고,</span><span class="sxs-lookup"><span data-stu-id="b8c54-172">If the activity sends a `Message` object or a message contract type, use <xref:System.ServiceModel.Activities.SendMessageContent>.</span></span> <span data-ttu-id="b8c54-173">작업이 데이터 계약 형식을 보내면 <xref:System.ServiceModel.Activities.SendParametersContent>를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-173">If the activity sends a data contract type use <xref:System.ServiceModel.Activities.SendParametersContent>.</span></span> <span data-ttu-id="b8c54-174"><xref:System.ServiceModel.Activities.SendParametersContent>를 사용하면 여러 매개 변수를 보낼 수 있는 반면 <xref:System.ServiceModel.Activities.SendMessageContent>를 사용하면 하나의 개체, 즉 메시지(또는 메시지 계약 형식)만 보낼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-174"><xref:System.ServiceModel.Activities.SendParametersContent> allows you to send multiple parameters, whereas <xref:System.ServiceModel.Activities.SendMessageContent> only allows you to send one object, the message (or the message contract type).</span></span>

<span data-ttu-id="b8c54-175">메시징 작업을 사용하여 명령적으로 프로그래밍하는 경우 제네릭 <xref:System.Activities.InArgument%601> 및 <xref:System.Activities.OutArgument%601>를 사용하여 <xref:System.ServiceModel.Activities.Send>, <xref:System.ServiceModel.Activities.SendReply>, <xref:System.ServiceModel.Activities.Receive> 및 <xref:System.ServiceModel.Activities.ReceiveReply> 작업의 메시지 또는 매개 변수 속성에 할당되는 개체를 래핑합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-175">When programming imperatively with the messaging activities, you use the generic <xref:System.Activities.InArgument%601> and <xref:System.Activities.OutArgument%601> to wrap the objects you assign to the message or parameters properties of the <xref:System.ServiceModel.Activities.Send>, <xref:System.ServiceModel.Activities.SendReply>, <xref:System.ServiceModel.Activities.Receive>, and <xref:System.ServiceModel.Activities.ReceiveReply> activities.</span></span> <span data-ttu-id="b8c54-176">및 활동에는 및 활동에 사용 <xref:System.Activities.InArgument%601> <xref:System.ServiceModel.Activities.Send> <xref:System.ServiceModel.Activities.SendReply> <xref:System.Activities.OutArgument%601> <xref:System.ServiceModel.Activities.Receive> <xref:System.ServiceModel.Activities.ReceiveReply> 합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-176">Use <xref:System.Activities.InArgument%601> for the <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.SendReply> activities and <xref:System.Activities.OutArgument%601> for <xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.ReceiveReply> activities.</span></span> <span data-ttu-id="b8c54-177">데이터가 작업에 전달되는 중이므로 전송 작업에 `In` 인수가 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-177">`In` arguments are used with the send activities because the data is being passed into the activities.</span></span> <span data-ttu-id="b8c54-178">다음 예제와 같이 데이터가 작업으로부터 전달되는 중이므로 수신 작업에 `Out` 인수가 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-178">`Out` arguments are used with the receive activities because data is being passed out of the activities, as shown in the following example.</span></span>

```csharp
Receive reserveSeat = new Receive
{
    ...
    Content = new ReceiveParametersContent
    {
        Parameters =
        {
            { "ReservationInfo", new OutArgument<ReservationRequest>(reservationInfo) }
        }
    }
};
SendReply reserveSeat = new SendReply
{
    ...
    Request = reserveSeat,
    Content = new SendParametersContent
    {
        Parameters =
        {
            { "ReservationId", new InArgument<string>(reservationId) }
        }
    },
};
```

<span data-ttu-id="b8c54-179">void를 반환하는 요청/응답 작업을 정의하는 워크플로 서비스를 구현할 때는 다음 예제와 같이 <xref:System.ServiceModel.Activities.SendReply> 작업을 인스턴스화하고 <xref:System.ServiceModel.Activities.SendReply.Content%2A> 속성을 콘텐츠 형식(<xref:System.ServiceModel.Activities.SendMessageContent> 또는 <xref:System.ServiceModel.Activities.SendParametersContent>) 중 하나의 빈 인스턴스로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-179">When implementing a workflow service that defines a request/response operation that returns void, you must instantiate a <xref:System.ServiceModel.Activities.SendReply> activity and set the <xref:System.ServiceModel.Activities.SendReply.Content%2A> property to an empty instance of one of the content types (<xref:System.ServiceModel.Activities.SendMessageContent> or <xref:System.ServiceModel.Activities.SendParametersContent>) as shown in the following example.</span></span>

```csharp
Receive rcv = new Receive()
{
ServiceContractName = "IService",
OperationName = "NullReturningContract",
Content = new ReceiveParametersContent( new Dictionary<string, OutArgument>() { { "message", new OutArgument<string>() } } )
};
SendReply sr = new SendReply()
{
Request = rcv
   Content = new SendParametersContent();
};
```

## <a name="add-service-reference"></a><span data-ttu-id="b8c54-180">서비스 참조 추가</span><span class="sxs-lookup"><span data-stu-id="b8c54-180">Add service reference</span></span>

<span data-ttu-id="b8c54-181">워크플로 응용 프로그램에서 워크플로 서비스를 호출 하는 경우 Visual Studio 2012은 <xref:System.ServiceModel.Activities.Send> <xref:System.ServiceModel.Activities.ReceiveReply> 요청/회신 mep에 사용 되는 일반적인 및 작업을 캡슐화 하는 사용자 지정 메시징 작업을 생성 합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-181">When calling a workflow service from a workflow application, Visual Studio 2012 generates custom messaging activities that encapsulate the usual <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.ReceiveReply> activities used in a request/reply MEP.</span></span> <span data-ttu-id="b8c54-182">이 기능을 사용 하려면 Visual Studio에서 클라이언트 프로젝트를 마우스 오른쪽 단추로 클릭 하 고  >  **서비스 참조** 추가를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-182">To use this feature, right-click the client project in Visual Studio and select **Add** > **Service Reference**.</span></span> <span data-ttu-id="b8c54-183">주소 상자에 서비스의 기본 주소를 입력하고 이동을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-183">Type the base address of the service in the address box and click Go.</span></span> <span data-ttu-id="b8c54-184">사용 가능한 서비스가 **서비스:** 상자에 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-184">The available services are displayed in the **Services:** box.</span></span> <span data-ttu-id="b8c54-185">서비스 노드를 확장하여 지원되는 계약을 표시합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-185">Expand the service node to display the contracts supported.</span></span> <span data-ttu-id="b8c54-186">호출 하려는 계약을 선택 하면 **작업** 상자에 사용 가능한 작업 목록이 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-186">Select the contract you want to call and the list of available operations is displayed in the **Operations** box.</span></span> <span data-ttu-id="b8c54-187">그런 다음 생성 된 활동에 대 한 네임 스페이스를 지정 하 고 **확인** 을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-187">You can then specify the namespace for the generated activity and click **OK**.</span></span> <span data-ttu-id="b8c54-188">그러면 프로젝트가 다시 빌드된 후 작업이 성공적으로 완료되었음을 알리고 사용자 지정 작업이 도구 상자에 표시된 대화 상자가 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-188">You then see a dialog that says the operation completed successfully and that the generated custom activities are in the toolbox after you have rebuilt the project.</span></span> <span data-ttu-id="b8c54-189">이 대화 상자에는 서비스 계약에 대해 정의된 작업마다 하나씩 작업이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-189">There is one activity for each operation defined on the service contract.</span></span> <span data-ttu-id="b8c54-190">프로젝트를 다시 빌드한 후에는 사용자 지정 작업을 워크플로에 끌어서 놓고 속성 창에서 필수 속성을 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-190">After rebuilding the project you can drag and drop the custom activities onto your workflow and set any required properties in the properties window.</span></span>

## <a name="messaging-activity-templates"></a><span data-ttu-id="b8c54-191">메시징 활동 템플릿</span><span class="sxs-lookup"><span data-stu-id="b8c54-191">Messaging activity templates</span></span>

<span data-ttu-id="b8c54-192">클라이언트 및 서비스에서 요청/응답 MEP를 보다 쉽게 설정 하기 위해 Visual Studio 2012에서는 두 개의 메시징 작업 템플릿을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-192">To make setting up a request/response MEP on the client and service easier, Visual Studio 2012 provides two messaging activity templates.</span></span> <span data-ttu-id="b8c54-193">`System.ServiceModel.Activities.Design.ReceiveAndSendReply`는 서비스에서 사용되고 `System.ServiceModel.Activities.Design.SendAndReceiveReply`는 클라이언트에서 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-193">`System.ServiceModel.Activities.Design.ReceiveAndSendReply` is used on the service and `System.ServiceModel.Activities.Design.SendAndReceiveReply` is used on the client.</span></span> <span data-ttu-id="b8c54-194">두 경우 모두 템플릿이 워크플로에 적절한 메시징 작업을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-194">In both cases the templates add the appropriate messaging activities to your workflow.</span></span> <span data-ttu-id="b8c54-195">서비스에서는 `System.ServiceModel.Activities.Design.ReceiveAndSendReply`가 <xref:System.ServiceModel.Activities.Receive> 작업과 그 뒤에 <xref:System.ServiceModel.Activities.SendReply> 작업을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-195">On the service, the `System.ServiceModel.Activities.Design.ReceiveAndSendReply` adds a <xref:System.ServiceModel.Activities.Receive> activity followed by a <xref:System.ServiceModel.Activities.SendReply> activity.</span></span> <span data-ttu-id="b8c54-196"><xref:System.ServiceModel.Activities.SendReply.Request> 속성은 자동으로 <xref:System.ServiceModel.Activities.Receive> 작업으로 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-196">The <xref:System.ServiceModel.Activities.SendReply.Request> property is automatically set to the <xref:System.ServiceModel.Activities.Receive> activity.</span></span> <span data-ttu-id="b8c54-197">클라이언트에서는 `System.ServiceModel.Activities.Design.SendAndReceiveReply`가 <xref:System.ServiceModel.Activities.Send> 작업과 그 뒤에 <xref:System.ServiceModel.Activities.ReceiveReply> 작업을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-197">On the client, the `System.ServiceModel.Activities.Design.SendAndReceiveReply` adds a <xref:System.ServiceModel.Activities.Send> activity followed by a <xref:System.ServiceModel.Activities.ReceiveReply>.</span></span> <span data-ttu-id="b8c54-198"><xref:System.ServiceModel.Activities.ReceiveReply.Request%2A> 속성은 자동으로 <xref:System.ServiceModel.Activities.Send> 작업으로 설정됩니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-198">The <xref:System.ServiceModel.Activities.ReceiveReply.Request%2A> property is automatically set to the <xref:System.ServiceModel.Activities.Send> activity.</span></span> <span data-ttu-id="b8c54-199">이러한 템플릿을 사용하려면 워크플로에 원하는 템플릿을 끌어서 놓기만 하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-199">To use these templates, just drag and drop the appropriate template onto your workflow.</span></span>

## <a name="messaging-activities-and-transactions"></a><span data-ttu-id="b8c54-200">메시징 활동 및 트랜잭션</span><span class="sxs-lookup"><span data-stu-id="b8c54-200">Messaging activities and transactions</span></span>

<span data-ttu-id="b8c54-201">워크플로 서비스가 호출되면 트랜잭션을 서비스 작업에 전달할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-201">When a call is made to a workflow service you may want to flow a transaction to the service operation.</span></span> <span data-ttu-id="b8c54-202">이 작업을 수행하려면 <xref:System.ServiceModel.Activities.Receive> 작업 안에 <xref:System.ServiceModel.Activities.TransactedReceiveScope> 작업을 배치합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-202">To do this place the <xref:System.ServiceModel.Activities.Receive> activity within a <xref:System.ServiceModel.Activities.TransactedReceiveScope> activity.</span></span> <span data-ttu-id="b8c54-203"><xref:System.ServiceModel.Activities.TransactedReceiveScope> 작업은 `Receive` 작업과 본문을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-203">The <xref:System.ServiceModel.Activities.TransactedReceiveScope> activity contains a `Receive` activity and a body.</span></span> <span data-ttu-id="b8c54-204">서비스에 전달된 트랜잭션은 <xref:System.ServiceModel.Activities.TransactedReceiveScope>의 본문이 실행되는 동안 앰비언트 상태로 유지됩니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-204">The transaction flowed to the service remains ambient throughout the execution of the body of the <xref:System.ServiceModel.Activities.TransactedReceiveScope>.</span></span> <span data-ttu-id="b8c54-205">본문이 실행을 마치면 트랜잭션이 완료됩니다.</span><span class="sxs-lookup"><span data-stu-id="b8c54-205">The transaction is completed when the body finishes executing.</span></span> <span data-ttu-id="b8c54-206">워크플로 및 트랜잭션에 대 한 자세한 내용은 [워크플로 트랜잭션](../../windows-workflow-foundation/workflow-transactions.md)을 참조 하십시오.</span><span class="sxs-lookup"><span data-stu-id="b8c54-206">For more information about workflows and transactions see [Workflow Transactions](../../windows-workflow-foundation/workflow-transactions.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="b8c54-207">참고 항목</span><span class="sxs-lookup"><span data-stu-id="b8c54-207">See also</span></span>

- [<span data-ttu-id="b8c54-208">워크플로 서비스에서 오류를 보내고 받는 방법</span><span class="sxs-lookup"><span data-stu-id="b8c54-208">How to Send and Receive Faults in Workflow Services</span></span>](https://go.microsoft.com/fwlink/?LinkId=189151)
- [<span data-ttu-id="b8c54-209">장기 실행 워크플로 서비스 만들기</span><span class="sxs-lookup"><span data-stu-id="b8c54-209">Creating a Long-running Workflow Service</span></span>](creating-a-long-running-workflow-service.md)
