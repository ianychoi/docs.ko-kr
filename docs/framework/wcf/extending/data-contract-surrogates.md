---
title: 데이터 계약 서로게이트
ms.date: 03/30/2017
helpviewer_keywords:
- data contracts [WCF], surrogates
ms.assetid: 8c31134c-46c5-4ed7-94af-bab0ac0dfce5
ms.openlocfilehash: e33a487c03bbf87666d517040e00131f5482be6f
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/26/2020
ms.locfileid: "96251518"
---
# <a name="data-contract-surrogates"></a><span data-ttu-id="421b3-102">데이터 계약 서로게이트</span><span class="sxs-lookup"><span data-stu-id="421b3-102">Data Contract Surrogates</span></span>

<span data-ttu-id="421b3-103">데이터 계약 *서로게이트* 는 데이터 계약 모델을 기반으로 하는 고급 기능입니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-103">The data contract *surrogate* is an advanced feature built upon the Data Contract model.</span></span> <span data-ttu-id="421b3-104">이 기능은 사용자가 형식을 메타데이터에 나타내거나 직렬화 또는 역직렬화하는 방식을 변경하려는 경우 형식 사용자 지정 및 대체에 사용하도록 디자인되었습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-104">This feature is designed to be used for type customization and substitution in situations where users want to change how a type is serialized, deserialized or projected into metadata.</span></span> <span data-ttu-id="421b3-105">서로게이트는 데이터 계약이 형식에 대해 지정되지 않은 경우, 필드와 속성에 <xref:System.Runtime.Serialization.DataMemberAttribute> 특성이 표시되지 않은 경우 또는 사용자가 스키마 변형을 동적으로 만들려는 경우 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-105">Some scenarios where a surrogate may be used is when a data contract has not been specified for the type, fields and properties are not marked with the <xref:System.Runtime.Serialization.DataMemberAttribute> attribute or users wish to dynamically create schema variations.</span></span>  
  
 <span data-ttu-id="421b3-106">serialization 및 deserialization은 <xref:System.Runtime.Serialization.DataContractSerializer>를 사용하여 .NET Framework로부터 XML과 같은 적합한 형식으로 변환할 때 데이터 계약 서로게이트를 통해 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-106">Serialization and deserialization are accomplished with the data contract surrogate when using <xref:System.Runtime.Serialization.DataContractSerializer> to convert from .NET Framework to a suitable format, such as XML.</span></span> <span data-ttu-id="421b3-107">데이터 계약 서로게이트는 XSD(XML 스키마 문서)와 같은 메타데이터 표현을 생성할 때 형식에 대해 내보낸 메타데이터를 수정하는 데 사용될 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-107">Data contract surrogate can also be used to modify the metadata exported for types, when producing metadata representations such as XML Schema Documents (XSD).</span></span> <span data-ttu-id="421b3-108">가져오기를 수행할 때 코드는 메타데이터에서 만들어지고 이 경우 서로게이트는 생성된 코드를 사용자 지정하는 데 사용될 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-108">Upon import, code is created from metadata and the surrogate can be used in this case to customize the generated code as well.</span></span>  
  
## <a name="how-the-surrogate-works"></a><span data-ttu-id="421b3-109">서로게이트 작동 방식</span><span class="sxs-lookup"><span data-stu-id="421b3-109">How the Surrogate Works</span></span>  

 <span data-ttu-id="421b3-110">서로게이트는 한 형식("원래" 형식)에서 다른 형식("서로게이트된" 형식)에 매핑하여 수행됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-110">A surrogate works by mapping one type (the "original" type) to another type (the "surrogated" type).</span></span> <span data-ttu-id="421b3-111">다음 예제에서는 원래 형식 `Inventory`와 새 서로게이트 `InventorySurrogated` 형식을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-111">The following example shows the original type `Inventory` and a new surrogate `InventorySurrogated` type.</span></span> <span data-ttu-id="421b3-112">`Inventory` 형식은 serialize할 수 없지만 `InventorySurrogated` 형식은 serialize할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-112">The `Inventory` type is not serializable but the `InventorySurrogated` type is:</span></span>  
  
 [!code-csharp[C_IDataContractSurrogate#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_idatacontractsurrogate/cs/source.cs#1)]  
  
 <span data-ttu-id="421b3-113">데이터 계약이 이 클래스에 대해 정의되지 않았기 때문에 해당 클래스를 데이터 계약이 있는 서로게이트 클래스로 변환합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-113">Because a data contract has not been defined for this class, convert the class to a surrogate class with a data contract.</span></span> <span data-ttu-id="421b3-114">서로게이트된 클래스가 아래 예제에 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-114">The surrogated class is shown in the following example:</span></span>  
  
 [!code-csharp[C_IDataContractSurrogate#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_idatacontractsurrogate/cs/source.cs#2)]  
  
## <a name="implementing-the-idatacontractsurrogate"></a><span data-ttu-id="421b3-115">IDataContractSurrogate 구현</span><span class="sxs-lookup"><span data-stu-id="421b3-115">Implementing the IDataContractSurrogate</span></span>  

 <span data-ttu-id="421b3-116">데이터 계약 서로게이트를 사용하려면 <xref:System.Runtime.Serialization.IDataContractSurrogate> 인터페이스를 구현합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-116">To use the data contract surrogate, implement the <xref:System.Runtime.Serialization.IDataContractSurrogate> interface.</span></span>  
  
 <span data-ttu-id="421b3-117">다음은 구현이 가능한 <xref:System.Runtime.Serialization.IDataContractSurrogate>의 각 메서드에 대한 개요입니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-117">The following is an overview of each method of <xref:System.Runtime.Serialization.IDataContractSurrogate> with a possible implementation.</span></span>  
  
### <a name="getdatacontracttype"></a><span data-ttu-id="421b3-118">GetDataContractType</span><span class="sxs-lookup"><span data-stu-id="421b3-118">GetDataContractType</span></span>  

 <span data-ttu-id="421b3-119"><xref:System.Runtime.Serialization.IDataContractSurrogate.GetDataContractType%2A> 메서드는 특정 형식을 다른 형식에 매핑합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-119">The <xref:System.Runtime.Serialization.IDataContractSurrogate.GetDataContractType%2A> method maps one type to another.</span></span> <span data-ttu-id="421b3-120">이 메서드는 serialization, deserialization, 가져오기 및 내보내기에 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-120">This method is required for serialization, deserialization, import, and export.</span></span>  
  
 <span data-ttu-id="421b3-121">첫 번째 작업은 다른 형식에 매핑할 형식을 정의하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-121">The first task is defining what types will be mapped to other types.</span></span> <span data-ttu-id="421b3-122">예를 들면 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-122">For example:</span></span>  
  
 [!code-csharp[C_IDataContractSurrogate#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_idatacontractsurrogate/cs/source.cs#3)]  
  
- <span data-ttu-id="421b3-123">serialization 시 이 메서드에서 반환되는 매핑은 <xref:System.Runtime.Serialization.IDataContractSurrogate.GetObjectToSerialize%2A> 메서드를 호출하여 이후에 원래 인스턴스를 서로게이트된 인스턴스로 변형하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-123">On serialization, the mapping returned by this method is subsequently used to transform the original instance to a surrogated instance by calling the <xref:System.Runtime.Serialization.IDataContractSurrogate.GetObjectToSerialize%2A> method.</span></span>  
  
- <span data-ttu-id="421b3-124">deserialization 시 이 메서드에서 반환되는 매핑은 serializer가 서로게이트 형식의 인스턴스로 역직렬화하는 데 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-124">On deserialization, the mapping returned by this method is used by the serializer to deserialize into an instance of the surrogate type.</span></span> <span data-ttu-id="421b3-125">그런 다음 <xref:System.Runtime.Serialization.IDataContractSurrogate.GetDeserializedObject%2A>를 호출하여 서로게이트된 인스턴스를 원래 형식의 인스턴스로 변환합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-125">It subsequently calls <xref:System.Runtime.Serialization.IDataContractSurrogate.GetDeserializedObject%2A> to transform the surrogated instance into an instance of the original type.</span></span>  
  
- <span data-ttu-id="421b3-126">내보내기를 수행할 때 이 메서드에서 반환되는 서로게이트 형식은 메타데이터 생성에 사용할 데이터 계약을 가져오는 데 반영됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-126">On export, the surrogate type returned by this method is reflected to get the data contract to use for generating metadata.</span></span>  
  
- <span data-ttu-id="421b3-127">가져오기를 수행할 때 초기 형식은 지원 참조 등의 목적에 사용할 데이터 계약을 가져오는 데 반영되는 서로게이트 형식으로 변경됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-127">On import, the initial type is changed to a surrogate type that is reflected to get the data contract to use for purposes like referencing support.</span></span>  
  
 <span data-ttu-id="421b3-128"><xref:System.Type> 매개 변수는 직렬화, 역직렬화, 가져오기 또는 내보내기 중인 개체의 형식입니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-128">The <xref:System.Type> parameter is the type of the object that is being serialized, deserialized, imported, or exported.</span></span> <span data-ttu-id="421b3-129"><xref:System.Runtime.Serialization.IDataContractSurrogate.GetDataContractType%2A> 메서드는 서로게이트가 입력 형식을 처리하지 않을 경우 해당 입력 형식을 반환해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-129">The <xref:System.Runtime.Serialization.IDataContractSurrogate.GetDataContractType%2A> method must return the input type if the surrogate does not handle the type.</span></span> <span data-ttu-id="421b3-130">그렇지 않으면 서로게이트된 해당 형식을 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-130">Otherwise, return the appropriate surrogated type.</span></span> <span data-ttu-id="421b3-131">서로게이트 형식이 여러 개인 경우 이 메서드에 여러 가지 매핑을 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-131">If several surrogate types exist, numerous mappings can be defined in this method.</span></span>  
  
 <span data-ttu-id="421b3-132"><xref:System.Runtime.Serialization.IDataContractSurrogate.GetDataContractType%2A> 또는 <xref:System.Int32>과 같은 기본 제공 데이터 계약 기본 형식에 대해 <xref:System.String> 메서드는 호출되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-132">The <xref:System.Runtime.Serialization.IDataContractSurrogate.GetDataContractType%2A> method is not called for built-in data contract primitives, such as <xref:System.Int32> or <xref:System.String>.</span></span> <span data-ttu-id="421b3-133">배열, 사용자 정의 형식 및 기타 데이터 구조 등 다른 형식의 경우 이 메서드는 각 형식에 대해 호출됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-133">For other types, such as arrays, user-defined types, and other data structures, this method will be called for each type.</span></span>  
  
 <span data-ttu-id="421b3-134">앞의 예제에서 메서드는 `type` 매개 변수와 `Inventory`가 호환되는지 여부를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-134">In the previous example, the method checks if the `type` parameter and `Inventory` are comparable.</span></span> <span data-ttu-id="421b3-135">호환되는 경우 메서드는 해당 형식을 `InventorySurrogated`에 매핑합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-135">If so, the method maps it to `InventorySurrogated`.</span></span> <span data-ttu-id="421b3-136">serialization, deserialization, 스키마 가져오기 또는 내보내기가 호출될 때마다 이 함수가 먼저 호출되어 형식 간의 매핑을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-136">Whenever a serialization, deserialization, import schema, or export schema is called, this function is called first to determine the mapping between types.</span></span>  
  
### <a name="getobjecttoserialize-method"></a><span data-ttu-id="421b3-137">GetObjectToSerialize 메서드</span><span class="sxs-lookup"><span data-stu-id="421b3-137">GetObjectToSerialize Method</span></span>  

 <span data-ttu-id="421b3-138"><xref:System.Runtime.Serialization.IDataContractSurrogate.GetObjectToSerialize%2A> 메서드는 원래 형식 인스턴스를 서로게이트된 형식 인스턴스로 변환합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-138">The <xref:System.Runtime.Serialization.IDataContractSurrogate.GetObjectToSerialize%2A> method converts the original type instance to the surrogated type instance.</span></span> <span data-ttu-id="421b3-139">이 메서드는 serialization에 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-139">The method is required for serialization.</span></span>  
  
 <span data-ttu-id="421b3-140">다음 단계는 <xref:System.Runtime.Serialization.IDataContractSurrogate.GetObjectToSerialize%2A> 메서드를 구현하여 물리적 데이터를 원래 인스턴스에서 서로게이트에 매핑하는 방식을 정의하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-140">The next step is to define the way the physical data will be mapped from the original instance to the surrogate by implementing the <xref:System.Runtime.Serialization.IDataContractSurrogate.GetObjectToSerialize%2A> method.</span></span> <span data-ttu-id="421b3-141">예를 들면 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-141">For example:</span></span>  
  
 [!code-csharp[C_IDataContractSurrogate#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_idatacontractsurrogate/cs/source.cs#4)]  
  
 <span data-ttu-id="421b3-142"><xref:System.Runtime.Serialization.IDataContractSurrogate.GetObjectToSerialize%2A> 메서드는 개체가 serialize되면 호출됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-142">The <xref:System.Runtime.Serialization.IDataContractSurrogate.GetObjectToSerialize%2A> method is called when an object is serialized.</span></span> <span data-ttu-id="421b3-143">이 메서드는 원래 형식에서 서로게이트된 형식의 필드로 데이터를 전송합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-143">This method transfers data from the original type to the fields of the surrogated type.</span></span> <span data-ttu-id="421b3-144">필드를 직접 서로게이트 필드에 매핑하거나 원래 데이터 조작 내용을 서로게이트에 저장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-144">Fields can be directly mapped to surrogate fields, or manipulations of the original data may be stored in the surrogate.</span></span> <span data-ttu-id="421b3-145">필드를 직접 매핑하고, 서로게이트된 필드에 저장할 데이터에 대한 작업을 수행하거나 서로게이트된 필드에 원래 형식의 XML을 저장하는 등 일부 작업이 가능합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-145">Some possible uses include: directly mapping the fields, performing operations on the data to be stored in the surrogated fields, or storing the XML of the original type in the surrogated field.</span></span>  
  
 <span data-ttu-id="421b3-146">`targetType` 매개 변수는 멤버의 선언된 형식을 참조합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-146">The `targetType` parameter refers to the declared type of the member.</span></span> <span data-ttu-id="421b3-147">이 매개 변수는 <xref:System.Runtime.Serialization.IDataContractSurrogate.GetDataContractType%2A> 메서드에서 반환되는 서로게이트된 형식입니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-147">This parameter is the surrogated type returned by the <xref:System.Runtime.Serialization.IDataContractSurrogate.GetDataContractType%2A> method.</span></span> <span data-ttu-id="421b3-148">serializer는 반환된 개체를 이 형식에 할당할 수 있도록 지정하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-148">The serializer does not enforce that the object returned is assignable to this type.</span></span> <span data-ttu-id="421b3-149">`obj`매개 변수는 serialize 할 개체 이며 필요한 경우 해당 서로게이트로 변환 됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-149">The `obj` parameter is the object to serialize, and will be converted to its surrogate if necessary.</span></span> <span data-ttu-id="421b3-150">이 메서드는 서로게이트된 메서드가 입력 개체를 처리하지 않을 경우 해당 입력 개체를 반환해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-150">This method must return the input object if the surrogated does not handle the object.</span></span> <span data-ttu-id="421b3-151">그렇지 않으면 새 서로게이트 개체가 반환됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-151">Otherwise, the new surrogate object will be returned.</span></span> <span data-ttu-id="421b3-152">서로게이트는 개체가 null이면 호출되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-152">The surrogate is not called if the object is null.</span></span> <span data-ttu-id="421b3-153">이 메서드 내에 다른 인스턴스에 대한 서로게이트 매핑을 여러 개 정의할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-153">Numerous surrogate mappings for different instances may be defined within this method.</span></span>  
  
 <span data-ttu-id="421b3-154"><xref:System.Runtime.Serialization.DataContractSerializer>를 만들 때 개체 참조를 유지하도록 지시할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-154">When creating a <xref:System.Runtime.Serialization.DataContractSerializer>, you can instruct it to preserve object references.</span></span> <span data-ttu-id="421b3-155">자세한 내용은 [Serialization 및 Deserialization](../feature-details/serialization-and-deserialization.md)을 참조 하세요. 생성자의 매개 변수를로 설정 하 여이 작업을 수행 `preserveObjectReferences` `true` 합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-155">(For more information, see [Serialization and Deserialization](../feature-details/serialization-and-deserialization.md).) This is done by setting the `preserveObjectReferences` parameter in its constructor to `true`.</span></span> <span data-ttu-id="421b3-156">이 경우 이후의 모든 serialization이 스트림에 참조를 작성하므로 서로게이트는 개체에 대해 한 번만 호출됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-156">In that case, the surrogate is called only once for an object since all subsequent serializations just write the reference into the stream.</span></span> <span data-ttu-id="421b3-157">`preserveObjectReferences`가 `false`로 설정된 경우 인스턴스가 나타날 때마다 서로게이트가 호출됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-157">If `preserveObjectReferences` is set to `false`, then the surrogate is called every time an instance is encountered.</span></span>  
  
 <span data-ttu-id="421b3-158">serialize된 인스턴스의 형식이 선언된 형식과 다르면 형식 정보가 스트림에 작성됩니다. 예를 들어 `xsi:type`을 사용하면 다른 쪽 끝에서 인스턴스를 역직렬화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-158">If the type of the instance serialized differs from the declared type, type information is written into the stream, for example, `xsi:type` to allow the instance to be deserialized at the other end.</span></span> <span data-ttu-id="421b3-159">이 프로세스는 개체가 서로게이트되는지 여부에 따라 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-159">This process occurs whether the object is surrogated or not.</span></span>  
  
 <span data-ttu-id="421b3-160">위의 예제에서는 `Inventory` 인스턴스의 데이터를 `InventorySurrogated`의 데이터로 변환합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-160">The example above converts the data of the `Inventory` instance to that of `InventorySurrogated`.</span></span> <span data-ttu-id="421b3-161">개체의 형식을 확인하고 서로게이트된 형식으로 변환하는 데 필요한 조작 작업을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-161">It checks the type of the object and performs the necessary manipulations to convert to the surrogated type.</span></span> <span data-ttu-id="421b3-162">이 경우 `Inventory` 클래스의 필드는 `InventorySurrogated` 클래스 필드로 직접 복사됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-162">In this case, the fields of the `Inventory` class are directly copied over to the `InventorySurrogated` class fields.</span></span>  
  
### <a name="getdeserializedobject-method"></a><span data-ttu-id="421b3-163">GetDeserializedObject 메서드</span><span class="sxs-lookup"><span data-stu-id="421b3-163">GetDeserializedObject Method</span></span>  

 <span data-ttu-id="421b3-164"><xref:System.Runtime.Serialization.IDataContractSurrogate.GetDeserializedObject%2A> 메서드는 서로게이트된 형식 인스턴스를 원래 형식 인스턴스로 변환합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-164">The <xref:System.Runtime.Serialization.IDataContractSurrogate.GetDeserializedObject%2A> method converts the surrogated type instance to the original type instance.</span></span> <span data-ttu-id="421b3-165">이 메서드는 deserialization에 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-165">It is required for deserialization.</span></span>  
  
 <span data-ttu-id="421b3-166">다음 작업은 물리적 데이터를 서로게이트 인스턴스에서 원래 인스턴스에 매핑하는 방식을 정의하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-166">The next task is to define the way the physical data will be mapped from the surrogate instance to the original.</span></span> <span data-ttu-id="421b3-167">예를 들면 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-167">For example:</span></span>  
  
 [!code-csharp[C_IDataContractSurrogate#5](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_idatacontractsurrogate/cs/source.cs#5)]  
  
 <span data-ttu-id="421b3-168">이 메서드는 개체의 deserialization 중에만 호출됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-168">This method is called only during the deserialization of an object.</span></span> <span data-ttu-id="421b3-169">해당 메서드는 deserialization을 위해 서로게이트 형식에서 다시 원래 형식으로의 데이터 매핑을 취소합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-169">It provides reverse data mapping for the deserialization from the surrogate type back to its original type.</span></span> <span data-ttu-id="421b3-170">`GetObjectToSerialize` 메서드와 비슷한 방식으로 필드 데이터를 직접 교환하고, 데이터에 대한 작업을 수행하며 XML 데이터를 저장하는 등 일부 작업이 가능합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-170">Similar to the `GetObjectToSerialize` method, some possible uses may be to directly exchange field data, perform operations on the data, and store XML data.</span></span> <span data-ttu-id="421b3-171">역직렬화할 때 데이터 변환에서의 조작으로 인해 원래 형식으로부터 정확한 데이터 값을 얻지 못할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-171">When  deserializing, you may not always obtain the exact data values from original due to manipulations in the data conversion.</span></span>  
  
 <span data-ttu-id="421b3-172">`targetType` 매개 변수는 멤버의 선언된 형식을 참조합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-172">The `targetType` parameter refers to the declared type of the member.</span></span> <span data-ttu-id="421b3-173">이 매개 변수는 `GetDataContractType` 메서드에서 반환되는 서로게이트된 형식입니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-173">This parameter is the surrogated type returned by the `GetDataContractType` method.</span></span> <span data-ttu-id="421b3-174">`obj`매개 변수는 deserialize 된 개체를 참조 합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-174">The `obj` parameter refers to the object that has been deserialized.</span></span> <span data-ttu-id="421b3-175">개체가 서로게이트되는 경우 원래 형식으로 다시 변환될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-175">The object can be converted back to its original type if it is surrogated.</span></span> <span data-ttu-id="421b3-176">이 메서드는 서로게이트가 입력 개체를 처리하지 않을 경우 해당 입력 개체를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-176">This method returns the input object if the surrogate does not handle the object.</span></span> <span data-ttu-id="421b3-177">그렇지 않은 경우 변환이 완료되면 역직렬화된 개체를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-177">Otherwise, the deserialized object will be returned once its conversion has been completed.</span></span> <span data-ttu-id="421b3-178">여러 개의 서로게이트 형식이 존재하는 경우 각 형식과 해당 변환을 나타내어 각 데이터에 대한 서로게이트 형식에서 기본 형식으로 데이터를 변환할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-178">If several surrogate types exist, you may provide data conversion from surrogate to primary type for each by indicating each type and its conversion.</span></span>  
  
 <span data-ttu-id="421b3-179">개체를 반환할 때 내부 개체 테이블은 이 서로게이트에서 반환하는 개체로 업데이트됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-179">When returning an object, the internal object tables are updated with the object returned by this surrogate.</span></span> <span data-ttu-id="421b3-180">이후의 모든 인스턴스에 대한 참조는 개체 테이블에서 서로게이트된 인스턴스를 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-180">Any subsequent references to an instance will obtain the surrogated instance from the object tables.</span></span>  
  
 <span data-ttu-id="421b3-181">앞의 예제에서는 `InventorySurrogated`형식의 개체를 다시 초기 형식 `Inventory`로 변환합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-181">The previous example converts objects of type `InventorySurrogated` back to the initial type `Inventory`.</span></span> <span data-ttu-id="421b3-182">이 경우 데이터는 다시 `InventorySurrogated`에서 `Inventory`의 해당 필드로 직접 전송됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-182">In this case, data is directly transferred back from `InventorySurrogated` to its corresponding fields in `Inventory`.</span></span> <span data-ttu-id="421b3-183">데이터의 조작된 사항이 없기 때문에 각 멤버 필드에 serialization 전과 같은 값이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-183">Because there are no data manipulations, the each of the member fields will contain the same values as before the serialization.</span></span>  
  
### <a name="getcustomdatatoexport-method"></a><span data-ttu-id="421b3-184">GetCustomDataToExport 메서드</span><span class="sxs-lookup"><span data-stu-id="421b3-184">GetCustomDataToExport Method</span></span>  

 <span data-ttu-id="421b3-185">스키마를 내보낼 때 <xref:System.Runtime.Serialization.IDataContractSurrogate.GetCustomDataToExport%2A> 메서드는 선택 사항입니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-185">When exporting a schema, the <xref:System.Runtime.Serialization.IDataContractSurrogate.GetCustomDataToExport%2A> method is optional.</span></span> <span data-ttu-id="421b3-186">해당 메서드는 내보낸 스키마에 추가 데이터나 힌트를 삽입하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-186">It is used to insert additional data or hints into the exported schema.</span></span> <span data-ttu-id="421b3-187">추가 데이터는 멤버 수준 또는 형식 수준에서 삽입될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-187">Additional data can be inserted at the member level or type level.</span></span> <span data-ttu-id="421b3-188">예를 들면 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-188">For example:</span></span>  
  
 [!code-csharp[C_IDataContractSurrogate#6](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_idatacontractsurrogate/cs/source.cs#6)]  
  
 <span data-ttu-id="421b3-189">이 메서드(두 개의 오버로드 사용)를 통해 추가 정보를 멤버 수준 또는 형식 수준의 메타데이터에 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-189">This method (with two overloads) enables the inclusion of extra information into the metadata either at the member or type level.</span></span> <span data-ttu-id="421b3-190">멤버가 공용인지 또는 전용인지에 대한 힌트와 스키마 내보내기 및 가져오기를 통해 유지되는 사항에 대한 주석을 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-190">It is possible to include hints about whether a member is public or private, and comments which would be preserved throughout the export and import of the schema.</span></span> <span data-ttu-id="421b3-191">그러한 정보는 이 메서드를 사용하지 않을 경우 손실됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-191">Such information would be lost without this method.</span></span> <span data-ttu-id="421b3-192">이 메서드로 인해 멤버나 형식이 삽입되거나 삭제되지는 않지만 해당 수준 중 한 수준의 스키마에 데이터가 추가됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-192">This method does not cause the insertion or deletion of members or types, but rather adds additional data to the schemas at either of these levels.</span></span>  
  
 <span data-ttu-id="421b3-193">메서드는 오버로드되고 `Type`(`clrtype` 매개 변수) 또는 <xref:System.Reflection.MemberInfo>(`memberInfo` 매개 변수)를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-193">The method is overloaded and can take either a `Type` (`clrtype` parameter) or <xref:System.Reflection.MemberInfo> (`memberInfo` parameter).</span></span> <span data-ttu-id="421b3-194">두 번째 매개 변수는 항상 `Type`(`dataContractType` 매개 변수)입니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-194">The second parameter is always a `Type` (`dataContractType` parameter).</span></span> <span data-ttu-id="421b3-195">이 메서드는 서로게이트된 `dataContractType` 형식 및 모든 멤버에 대해 호출됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-195">This method is called for every member and type of the surrogated `dataContractType` type.</span></span>  
  
 <span data-ttu-id="421b3-196">이러한 오버로드 중 하나는 `null` 또는 serialize할 수 있는 개체를 반환해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-196">Either of these overloads must return either `null` or a serializable object.</span></span> <span data-ttu-id="421b3-197">null이 아닌 개체는 내보낸 스키마에 주석으로 serialize됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-197">A non-null object will be serialized as annotation into the exported schema.</span></span> <span data-ttu-id="421b3-198">`Type` 오버로드의 경우 스키마로 내보낸 각 형식은 `dataContractType` 매개 변수로 서로게이트된 형식과 함께 첫 번째 매개 변수의 이 메서드에 보내집니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-198">For the `Type` overload, each type that is exported to schema is sent to this method in the first parameter along with the surrogated type as the `dataContractType` parameter.</span></span> <span data-ttu-id="421b3-199">`MemberInfo` 오버로드의 경우 스키마로 내보낸 각 멤버는 두 번째 매개 변수의 서로게이트된 형식과 함께 `memberInfo` 매개 변수로 해당 정보를 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-199">For the `MemberInfo` overload, each member that is exported to schema sends its information as the `memberInfo` parameter with the surrogated type in the second parameter.</span></span>  
  
#### <a name="getcustomdatatoexport-method-type-type"></a><span data-ttu-id="421b3-200">GetCustomDataToExport 메서드(Type, Type)</span><span class="sxs-lookup"><span data-stu-id="421b3-200">GetCustomDataToExport Method (Type, Type)</span></span>  

 <span data-ttu-id="421b3-201"><xref:System.Runtime.Serialization.IDataContractSurrogate.GetCustomDataToExport%28System.Type%2CSystem.Type%29?displayProperty=nameWithType> 메서드는 모든 형식 정의에 대한 스키마 내보내기 중에 호출됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-201">The <xref:System.Runtime.Serialization.IDataContractSurrogate.GetCustomDataToExport%28System.Type%2CSystem.Type%29?displayProperty=nameWithType> method is called during schema export for every type definition.</span></span> <span data-ttu-id="421b3-202">이 메서드는 내보낼 때 스키마 내의 형식에 정보를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-202">The method adds information to the types within the schema when exporting.</span></span> <span data-ttu-id="421b3-203">스키마에 포함해야 하는 추가 데이터가 있는지 여부를 결정하기 위해 정의된 각 형식이 이 메서드에 보내집니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-203">Each type defined is sent to this method to determine whether there is any additional data that needs to be included in the schema.</span></span>  
  
#### <a name="getcustomdatatoexport-method-memberinfo-type"></a><span data-ttu-id="421b3-204">GetCustomDataToExport 메서드(MemberInfo, Type)</span><span class="sxs-lookup"><span data-stu-id="421b3-204">GetCustomDataToExport Method (MemberInfo, Type)</span></span>  

 <span data-ttu-id="421b3-205"><xref:System.Runtime.Serialization.IDataContractSurrogate.GetCustomDataToExport%28System.Reflection.MemberInfo%2CSystem.Type%29?displayProperty=nameWithType>는 내보낸 형식의 모든 멤버에 대한 내보내기 중에 호출됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-205">The <xref:System.Runtime.Serialization.IDataContractSurrogate.GetCustomDataToExport%28System.Reflection.MemberInfo%2CSystem.Type%29?displayProperty=nameWithType> is called during export for every member in the types that are exported.</span></span> <span data-ttu-id="421b3-206">이 기능을 사용하면 내보낼 때 스키마에 포함되는 멤버에 대한 주석을 사용자 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-206">This function enables you to customize any comments for the members that will be included in the schema upon export.</span></span> <span data-ttu-id="421b3-207">스키마에 다른 데이터를 추가해야 하는지 여부를 확인하기 위해 클래스 내의 모든 멤버에 대한 정보는 이 메서드에 보내집니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-207">The information for every member within the class is sent to this method to check whether any additional data need to be added in the schema.</span></span>  
  
 <span data-ttu-id="421b3-208">위의 예제에서는 서로게이트의 각 멤버에 대한 `dataContractType`을 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-208">The example above searches through the `dataContractType` for each member of the surrogate.</span></span> <span data-ttu-id="421b3-209">그런 다음 각 필드에 적합한 액세스 한정자를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-209">It then returns the appropriate access modifier for each field.</span></span> <span data-ttu-id="421b3-210">이 사용자 지정 작업을 수행하지 않으면 액세스 한정자의 기본값은 공용입니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-210">Without this customization, the default value for access modifiers is public.</span></span> <span data-ttu-id="421b3-211">따라서 모든 멤버는 실제 액세스 제한에 관계없이 내보낸 스키마를 사용하여 생성된 코드에서 공용으로 정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-211">Therefore, all members would be defined as public in the code generated using the exported schema no matter what their actual access restrictions are.</span></span> <span data-ttu-id="421b3-212">이 구현을 사용하지 않을 때 멤버 `numpens`는 서로게이트에 전용으로 정의되어 있지만 내보낸 스키마에서는 공용이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-212">When not using this implementation, the member `numpens` would be public in the exported schema even though it was defined in the surrogate as private.</span></span> <span data-ttu-id="421b3-213">이러한 메서드를 사용하면 내보낸 스키마에서 액세스 한정자는 전용으로 생성될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-213">Through the use of this method, in the exported schema, the access modifier can be generated as private.</span></span>  
  
### <a name="getreferencedtypeonimport-method"></a><span data-ttu-id="421b3-214">GetReferencedTypeOnImport 메서드</span><span class="sxs-lookup"><span data-stu-id="421b3-214">GetReferencedTypeOnImport Method</span></span>  

 <span data-ttu-id="421b3-215">이 메서드는 서로게이트의 <xref:System.Type>을 원래 형식에 매핑합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-215">This method maps the <xref:System.Type> of the surrogate to the original type.</span></span> <span data-ttu-id="421b3-216">스키마 가져오기에서 이 메서드는 선택 사항입니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-216">This method is optional for schema importation.</span></span>  
  
 <span data-ttu-id="421b3-217">스키마를 가져오고 이에 대한 코드를 생성하는 서로게이트를 만들 때 다음 작업은 서로게이트 인스턴스의 형식을 원래 형식으로 정의하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-217">When creating a surrogate that imports a schema and generates code for it, the next task is to define the type of a surrogate instance to its original type.</span></span>  
  
 <span data-ttu-id="421b3-218">생성된 코드가 기존 사용자 형식을 참조해야 하는 경우 <xref:System.Runtime.Serialization.IDataContractSurrogate.GetReferencedTypeOnImport%2A> 메서드를 구현합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-218">If the generated code needs to reference an existing user type, this is done by implementing the <xref:System.Runtime.Serialization.IDataContractSurrogate.GetReferencedTypeOnImport%2A> method.</span></span>  
  
 <span data-ttu-id="421b3-219">스키마를 가져올 때 이 메서드가 모든 형식 선언에 대해 호출되어 서로게이트된 데이터 계약이 형식에 매핑됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-219">When importing a schema, this method is called for every type declaration to map the surrogated data contract to a type.</span></span> <span data-ttu-id="421b3-220">문자열 매개 변수 `typeName` 및 `typeNamespace`는 서로게이트 형식의 이름과 네임스페이스를 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-220">The string parameters `typeName` and `typeNamespace` define the name and namespace of the surrogated type.</span></span> <span data-ttu-id="421b3-221"><xref:System.Runtime.Serialization.IDataContractSurrogate.GetReferencedTypeOnImport%2A>에 대한 반환 값은 새 형식을 생성해야 하는지 여부를 결정하는 데 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-221">The return value for <xref:System.Runtime.Serialization.IDataContractSurrogate.GetReferencedTypeOnImport%2A> is used to determine whether a new type needs to be generated.</span></span> <span data-ttu-id="421b3-222">이 메서드는 유효한 형식이나 null을 반환해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-222">This method must return either a valid type or null.</span></span> <span data-ttu-id="421b3-223">유효한 형식의 경우 반환된 형식이 생성된 코드에서 참조된 형식으로 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-223">For valid types, the type returned will be used as a referenced type in the generated code.</span></span> <span data-ttu-id="421b3-224">null이 반환되면 형식이 참조되지 않고 새 형식을 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-224">If null is returned, no type will be referenced and a new type must be created.</span></span> <span data-ttu-id="421b3-225">여러 개의 서로게이트가 있는 경우 각 서로게이트 형식을 다시 초기 형식으로 매핑할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-225">If several surrogates exist, it is possible to perform the mapping for each surrogate type back to its initial type.</span></span>  
  
 <span data-ttu-id="421b3-226">`customData` 매개 변수는 <xref:System.Runtime.Serialization.IDataContractSurrogate.GetCustomDataToExport%2A>에서 처음 반환된 개체입니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-226">The `customData` parameter is the object originally returned from <xref:System.Runtime.Serialization.IDataContractSurrogate.GetCustomDataToExport%2A>.</span></span> <span data-ttu-id="421b3-227">이 `customData`는 서로게이트 작성자가 코드를 생성하기 위해 가져오기를 수행하는 중에 사용할 메타데이터에 추가 데이터/힌트를 삽입할 때 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-227">This `customData` is used when surrogate authors want to insert extra data/hints into the metadata to use during import to generate code.</span></span>  
  
### <a name="processimportedtype-method"></a><span data-ttu-id="421b3-228">ProcessImportedType 메서드</span><span class="sxs-lookup"><span data-stu-id="421b3-228">ProcessImportedType Method</span></span>  

 <span data-ttu-id="421b3-229"><xref:System.Runtime.Serialization.IDataContractSurrogate.ProcessImportedType%2A> 메서드는 스키마 가져오기에서 만들어진 모든 형식을 사용자 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-229">The <xref:System.Runtime.Serialization.IDataContractSurrogate.ProcessImportedType%2A> method customizes any type created from schema importation.</span></span> <span data-ttu-id="421b3-230">이 메서드는 선택 사항입니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-230">This method is optional.</span></span>  
  
 <span data-ttu-id="421b3-231">스키마를 가져올 때 이 메서드를 사용하면 가져온 형식 및 컴파일 정보를 사용자 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-231">When importing a schema, this method allows for any imported type and compilation information to be customized.</span></span> <span data-ttu-id="421b3-232">예를 들면 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-232">For example:</span></span>  
  
 [!code-csharp[C_IDataContractSurrogate#7](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_idatacontractsurrogate/cs/source.cs#7)]  
  
 <span data-ttu-id="421b3-233">가져오기 중에 이 메서드는 생성된 모든 형식에 대해 호출됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-233">During import, this method is called for every type generated.</span></span> <span data-ttu-id="421b3-234">지정된 <xref:System.CodeDom.CodeTypeDeclaration>을 변경하거나 <xref:System.CodeDom.CodeCompileUnit>을 수정합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-234">Change the specified <xref:System.CodeDom.CodeTypeDeclaration> or modify the <xref:System.CodeDom.CodeCompileUnit>.</span></span> <span data-ttu-id="421b3-235">이때 `CodeTypeDeclaration`의 이름, 멤버, 특성 및 기타 여러 속성이 변경됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-235">This includes changing the name, members, attributes, and many other properties of the `CodeTypeDeclaration`.</span></span> <span data-ttu-id="421b3-236">`CodeCompileUnit`을 처리하여 지시문, 네임스페이스, 참조된 어셈블리 및 기타 여러 특징을 수정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-236">By processing the `CodeCompileUnit`, it is possible to modify the directives, namespaces, referenced assemblies, and several other aspects.</span></span>  
  
 <span data-ttu-id="421b3-237">`CodeTypeDeclaration` 매개 변수에 코드 DOM 형식 선언이 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-237">The `CodeTypeDeclaration` parameter contains the code DOM type declaration.</span></span> <span data-ttu-id="421b3-238">`CodeCompileUnit` 매개 변수를 사용하면 코드 처리를 수정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-238">The `CodeCompileUnit` parameter allows for modification for processing the code.</span></span>  <span data-ttu-id="421b3-239">`null`을 반환하면 형식 선언이 무시됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-239">Returning `null` results in the type declaration being discarded.</span></span> <span data-ttu-id="421b3-240">반대로 `CodeTypeDeclaration`을 반환하면 수정 사항이 유지됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-240">Conversely, when returning a `CodeTypeDeclaration`, the modifications are preserved.</span></span>  
  
 <span data-ttu-id="421b3-241">사용자 지정 데이터를 메타데이터 내보내기 중에 삽입하는 경우에는 가져오기 중에 사용자에게 제공되어야 해당 데이터를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-241">If custom data is inserted during metadata export, it needs to be provided to the user during import so that it can be used.</span></span> <span data-ttu-id="421b3-242">이 사용자 지정 데이터는 모델 힌트 또는 기타 주석을 프로그래밍하는 데 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-242">This custom data can be used for programming model hints, or other comments.</span></span> <span data-ttu-id="421b3-243">각 `CodeTypeDeclaration` 및 <xref:System.CodeDom.CodeTypeMember> 인스턴스에는 <xref:System.CodeDom.CodeObject.UserData%2A> 형식으로 캐스팅된 `IDataContractSurrogate` 속성으로 사용자 지정 데이터가 포함됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-243">Each `CodeTypeDeclaration` and <xref:System.CodeDom.CodeTypeMember> instance includes custom data as the <xref:System.CodeDom.CodeObject.UserData%2A> property, cast to the `IDataContractSurrogate` type.</span></span>  
  
 <span data-ttu-id="421b3-244">위의 예제에서는 가져온 스키마를 일부 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-244">The example above performs some changes on the schema imported.</span></span> <span data-ttu-id="421b3-245">코드는 서로게이트를 사용하여 원래 형식의 전용 멤버를 유지합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-245">The code preserves private members of the original type by using a surrogate.</span></span> <span data-ttu-id="421b3-246">스키마를 가져올 때 기본 액세스 한정자는 `public`입니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-246">The default access modifier when importing a schema is `public`.</span></span> <span data-ttu-id="421b3-247">따라서 서로게이트 스키마의 모든 멤버는 이 예제에서처럼 수정하지 않은 경우에 공용이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-247">Therefore, all members of the surrogate schema will be public unless modified, as in this example.</span></span> <span data-ttu-id="421b3-248">내보내기 중에 사용자 지정 데이터는 전용 멤버에 대한 메타데이터에 삽입됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-248">During export, custom data is inserted into the metadata about which members are private.</span></span> <span data-ttu-id="421b3-249">이 예제에서는 사용자 지정 데이터를 찾고, 액세스 한정자가 전용인지 확인한 다음 멤버의 특성을 설정하여 해당 멤버를 전용으로 수정합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-249">The example looks up the custom data, checks whether the access modifier is private, and then modifies the appropriate member to be private by setting its attributes.</span></span> <span data-ttu-id="421b3-250">이 사용자 지정 작업을 수행하지 않으면 `numpens` 멤버는 전용이 아닌 공용으로 정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-250">Without this customization, the `numpens` member would be defined as public instead of private.</span></span>  
  
### <a name="getknowncustomdatatypes-method"></a><span data-ttu-id="421b3-251">GetKnownCustomDataTypes 메서드</span><span class="sxs-lookup"><span data-stu-id="421b3-251">GetKnownCustomDataTypes Method</span></span>  

 <span data-ttu-id="421b3-252">이 메서드는 스키마에서 정의된 사용자 지정 데이터 형식을 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-252">This method obtains custom data types defined from the schema.</span></span> <span data-ttu-id="421b3-253">스키마 가져오기에서 이 메서드는 선택 사항입니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-253">The method is optional for schema importation.</span></span>  
  
 <span data-ttu-id="421b3-254">해당 메서드는 스키마 내보내기 및 가져오기를 시작할 때 호출됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-254">The method is called at the beginning of schema export and import.</span></span> <span data-ttu-id="421b3-255">이 메서드는 내보내거나 가져온 스키마에 사용되는 사용자 지정 데이터 형식을 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-255">The method returns the custom data types used in the schema exported or imported.</span></span> <span data-ttu-id="421b3-256">이 메서드는 형식의 컬렉션인 <xref:System.Collections.ObjectModel.Collection%601>(`customDataTypes` 매개 변수)에 전달됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-256">The method is passed a <xref:System.Collections.ObjectModel.Collection%601> (the `customDataTypes` parameter), which is a collection of types.</span></span> <span data-ttu-id="421b3-257">메서드는 알려진 추가 형식을 이 컬렉션에 추가해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-257">The method should add additional known types to this collection.</span></span> <span data-ttu-id="421b3-258">알려진 사용자 지정 데이터 형식은 <xref:System.Runtime.Serialization.DataContractSerializer>를 사용하여 사용자 지정 데이터의 serialization 및 deserialization을 활성화하는 데 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-258">The known custom data types are needed to enable serialization and deserialization of custom data using the <xref:System.Runtime.Serialization.DataContractSerializer>.</span></span> <span data-ttu-id="421b3-259">자세한 내용은 [데이터 계약 알려진 형식을](../feature-details/data-contract-known-types.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-259">For more information, see [Data Contract Known Types](../feature-details/data-contract-known-types.md).</span></span>  
  
## <a name="implementing-a-surrogate"></a><span data-ttu-id="421b3-260">서로게이트 구현</span><span class="sxs-lookup"><span data-stu-id="421b3-260">Implementing a Surrogate</span></span>  

 <span data-ttu-id="421b3-261">WCF 내에서 데이터 계약 서로게이트를 사용 하려면 몇 가지 특수 프로시저를 수행 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-261">To use the data contract surrogate within WCF, you must follow a few special procedures.</span></span>  
  
### <a name="to-use-a-surrogate-for-serialization-and-deserialization"></a><span data-ttu-id="421b3-262">Serialization 및 Deserialization에 서로게이트를 사용하려면</span><span class="sxs-lookup"><span data-stu-id="421b3-262">To Use a Surrogate for Serialization and Deserialization</span></span>  

 <span data-ttu-id="421b3-263"><xref:System.Runtime.Serialization.DataContractSerializer>를 사용하여 서로게이트를 통해 데이터의 serialization 및 deserialization을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-263">Use the <xref:System.Runtime.Serialization.DataContractSerializer> to perform serialization and deserialization of data with the surrogate.</span></span> <span data-ttu-id="421b3-264"><xref:System.Runtime.Serialization.DataContractSerializer>는 <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior>에 의해 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-264">The <xref:System.Runtime.Serialization.DataContractSerializer> is created by the <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior>.</span></span> <span data-ttu-id="421b3-265">서로게이트도 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-265">The surrogate must also be specified.</span></span>  
  
##### <a name="to-implement-serialization-and-deserialization"></a><span data-ttu-id="421b3-266">serialization 및 deserialization을 구현하려면</span><span class="sxs-lookup"><span data-stu-id="421b3-266">To implement serialization and deserialization</span></span>  
  
1. <span data-ttu-id="421b3-267">서비스에 대한 <xref:System.ServiceModel.ServiceHost>의 인스턴스를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-267">Create an instance of the <xref:System.ServiceModel.ServiceHost> for your service.</span></span> <span data-ttu-id="421b3-268">자세한 지침은 [기본 WCF 프로그래밍](../basic-wcf-programming.md)을 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="421b3-268">For complete instructions, see [Basic WCF Programming](../basic-wcf-programming.md).</span></span>  
  
2. <span data-ttu-id="421b3-269">지정된 서비스 호스트의 모든 <xref:System.ServiceModel.Description.ServiceEndpoint>에 대해 해당 <xref:System.ServiceModel.Description.OperationDescription>을 찾습니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-269">For every <xref:System.ServiceModel.Description.ServiceEndpoint> of the specified service host, find its <xref:System.ServiceModel.Description.OperationDescription>.</span></span>  
  
3. <span data-ttu-id="421b3-270"><xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior>의 인스턴스가 있는지 여부를 확인하려면 작업 동작을 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-270">Search through the operation behaviors to determine if an instance of the <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior> is found.</span></span>  
  
4. <span data-ttu-id="421b3-271"><xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior>가 있는 경우 해당 <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior.DataContractSurrogate%2A> 속성을 서로게이트의 새 인스턴스로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-271">If a <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior> is found, set its <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior.DataContractSurrogate%2A> property to a new instance of the surrogate.</span></span> <span data-ttu-id="421b3-272"><xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior>가 없는 경우 새 인스턴스를 만들고 새 동작의 <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior.DataContractSurrogate%2A> 멤버를 서로게이트의 새 인스턴스로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-272">If no <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior> is found, then create a new instance and set the <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior.DataContractSurrogate%2A> member of the new behavior to a new instance of the surrogate.</span></span>  
  
5. <span data-ttu-id="421b3-273">마지막으로 다음 예제처럼 이 새 동작을 현재 작업 동작에 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-273">Finally, add this new behavior to the current operation behaviors, as shown in the following example:</span></span>  
  
     [!code-csharp[C_IDataContractSurrogate#8](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_idatacontractsurrogate/cs/source.cs#8)]  
  
### <a name="to-use-a-surrogate-for-metadata-import"></a><span data-ttu-id="421b3-274">메타데이터 가져오기에 서로게이트를 사용하려면</span><span class="sxs-lookup"><span data-stu-id="421b3-274">To Use a Surrogate for Metadata Import</span></span>  

 <span data-ttu-id="421b3-275">클라이언트 측 코드를 생성하기 위해 WSDL 및 XSD와 같은 메타데이터를 가져올 때 XSD 스키마 <xref:System.Runtime.Serialization.XsdDataContractImporter>로부터 코드를 생성하는 구성 요소에 서로게이트를 추가해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-275">When importing metadata like WSDL and XSD to generate client-side code, the surrogate needs to be added to the component responsible for generating code from XSD schema, <xref:System.Runtime.Serialization.XsdDataContractImporter>.</span></span> <span data-ttu-id="421b3-276">이 작업을 수행하려면 메타데이터 가져오기에 사용된 <xref:System.ServiceModel.Description.WsdlImporter>를 직접 수정합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-276">To do this, directly modify the <xref:System.ServiceModel.Description.WsdlImporter> used to import metadata.</span></span>  
  
##### <a name="to-implement-a-surrogate-for-metadata-importation"></a><span data-ttu-id="421b3-277">메타데이터 가져오기를 위해 서로게이트를 구현하려면</span><span class="sxs-lookup"><span data-stu-id="421b3-277">To implement a surrogate for metadata importation</span></span>  
  
1. <span data-ttu-id="421b3-278"><xref:System.ServiceModel.Description.WsdlImporter> 클래스를 사용하여 메타데이터를 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-278">Import the metadata using the <xref:System.ServiceModel.Description.WsdlImporter> class.</span></span>  
  
2. <span data-ttu-id="421b3-279"><xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> 메서드를 사용하여 <xref:System.Runtime.Serialization.XsdDataContractImporter>가 정의되었는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-279">Use the <xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> method to check whether an <xref:System.Runtime.Serialization.XsdDataContractImporter> has been defined.</span></span>  
  
3. <span data-ttu-id="421b3-280"><xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> 메서드가 `false`를 반환하는 경우 새 <xref:System.Runtime.Serialization.XsdDataContractImporter>를 만들고 해당 <xref:System.Runtime.Serialization.XsdDataContractImporter.Options%2A> 속성을 <xref:System.Runtime.Serialization.ImportOptions> 클래스의 새 인스턴스로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-280">If the <xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> method returns `false`, create a new <xref:System.Runtime.Serialization.XsdDataContractImporter> and set its <xref:System.Runtime.Serialization.XsdDataContractImporter.Options%2A> property to a new instance of the <xref:System.Runtime.Serialization.ImportOptions> class.</span></span> <span data-ttu-id="421b3-281">그렇지 않으면 `out` 메서드의 <xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> 매개 변수에서 반환되는 가져오기를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-281">Otherwise, use the importer returned by the `out` parameter of the <xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> method.</span></span>  
  
4. <span data-ttu-id="421b3-282"><xref:System.Runtime.Serialization.XsdDataContractImporter>에 <xref:System.Runtime.Serialization.ImportOptions>가 정의되지 않은 경우 속성을 <xref:System.Runtime.Serialization.ImportOptions> 클래스의 새 인스턴스로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-282">If the <xref:System.Runtime.Serialization.XsdDataContractImporter> has no <xref:System.Runtime.Serialization.ImportOptions> defined, then set the property to be a new instance of the <xref:System.Runtime.Serialization.ImportOptions> class.</span></span>  
  
5. <span data-ttu-id="421b3-283"><xref:System.Runtime.Serialization.ImportOptions.DataContractSurrogate%2A>의 <xref:System.Runtime.Serialization.ImportOptions>에 대한 <xref:System.Runtime.Serialization.XsdDataContractImporter> 속성을 서로게이트의 새 인스턴스로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-283">Set the <xref:System.Runtime.Serialization.ImportOptions.DataContractSurrogate%2A> property of the <xref:System.Runtime.Serialization.ImportOptions> of the <xref:System.Runtime.Serialization.XsdDataContractImporter> to a new instance of the surrogate.</span></span>  
  
6. <span data-ttu-id="421b3-284"><xref:System.Runtime.Serialization.XsdDataContractImporter>(<xref:System.ServiceModel.Description.MetadataExporter.State%2A> 클래스에서 상속됨)의 <xref:System.ServiceModel.Description.WsdlImporter> 속성에서 반환되는 컬렉션에 <xref:System.ServiceModel.Description.MetadataExporter>를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-284">Add the <xref:System.Runtime.Serialization.XsdDataContractImporter> to the collection returned by the <xref:System.ServiceModel.Description.MetadataExporter.State%2A> property of the <xref:System.ServiceModel.Description.WsdlImporter> (inherited from the <xref:System.ServiceModel.Description.MetadataExporter> class.)</span></span>  
  
7. <span data-ttu-id="421b3-285"><xref:System.ServiceModel.Description.WsdlImporter.ImportAllContracts%2A>의 <xref:System.ServiceModel.Description.WsdlImporter> 메서드를 사용하여 스키마 내에 모든 데이터 계약을 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-285">Use the <xref:System.ServiceModel.Description.WsdlImporter.ImportAllContracts%2A> method of the <xref:System.ServiceModel.Description.WsdlImporter> to import all of the data contracts within the schema.</span></span> <span data-ttu-id="421b3-286">마지막 단계에서 서로게이트로 호출하여 로드된 스키마에서 코드가 생성됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-286">During the last step, code is generated from the schemas loaded by calling into the surrogate.</span></span>  
  
     [!code-csharp[C_IDataContractSurrogate#9](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_idatacontractsurrogate/cs/source.cs#9)]  
  
### <a name="to-use-a-surrogate-for-metadata-export"></a><span data-ttu-id="421b3-287">메타데이터 내보내기에 서로게이트를 사용하려면</span><span class="sxs-lookup"><span data-stu-id="421b3-287">To Use a surrogate for Metadata Export</span></span>  

 <span data-ttu-id="421b3-288">기본적으로 WCF에서 서비스에 대 한 메타 데이터를 내보내는 경우 WSDL 및 XSD 스키마를 모두 생성 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-288">By default, when exporting metadata from WCF for a service, both WSDL and XSD schema needs to be generated.</span></span> <span data-ttu-id="421b3-289">데이터 계약 형식, <xref:System.Runtime.Serialization.XsdDataContractExporter>에 대한 XSD 스키마를 생성하는 구성 요소에 서로게이트를 추가해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-289">The surrogate needs to be added to the component responsible for generating XSD schema for data contract types, <xref:System.Runtime.Serialization.XsdDataContractExporter>.</span></span> <span data-ttu-id="421b3-290">이 작업을 수행하려면 <xref:System.ServiceModel.Description.IWsdlExportExtension>을 구현하는 동작을 사용하여 <xref:System.ServiceModel.Description.WsdlExporter>를 수정하거나 메타데이터 내보내기에 사용된 <xref:System.ServiceModel.Description.WsdlExporter>를 직접 수정합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-290">To do this, either use a behavior that implements <xref:System.ServiceModel.Description.IWsdlExportExtension> to modify the <xref:System.ServiceModel.Description.WsdlExporter>, or directly modify the <xref:System.ServiceModel.Description.WsdlExporter> used to export metadata.</span></span>  
  
##### <a name="to-use-a-surrogate-for-metadata-export"></a><span data-ttu-id="421b3-291">메타데이터 내보내기에 서로게이트를 사용하려면</span><span class="sxs-lookup"><span data-stu-id="421b3-291">To use a surrogate for metadata export</span></span>  
  
1. <span data-ttu-id="421b3-292">새 <xref:System.ServiceModel.Description.WsdlExporter>를 만들거나 `wsdlExporter` 메서드에 전달된 <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportContract%2A> 매개 변수를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-292">Create a new <xref:System.ServiceModel.Description.WsdlExporter> or use the `wsdlExporter` parameter passed to the <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportContract%2A> method.</span></span>  
  
2. <span data-ttu-id="421b3-293"><xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> 함수를 사용하여 <xref:System.Runtime.Serialization.XsdDataContractExporter>가 정의되었는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-293">Use the <xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> function to check whether an <xref:System.Runtime.Serialization.XsdDataContractExporter> has been defined.</span></span>  
  
3. <span data-ttu-id="421b3-294"><xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A>가 `false`를 반환하면 <xref:System.Runtime.Serialization.XsdDataContractExporter>에서 생성된 XML 스키마로 새 <xref:System.ServiceModel.Description.WsdlExporter>를 만든 다음 <xref:System.ServiceModel.Description.MetadataExporter.State%2A>의 <xref:System.ServiceModel.Description.WsdlExporter> 속성에서 반환되는 컬렉션에 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-294">If <xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> returns `false`, create a new <xref:System.Runtime.Serialization.XsdDataContractExporter> with the generated XML schemas from the <xref:System.ServiceModel.Description.WsdlExporter>, and add it to the collection returned by the <xref:System.ServiceModel.Description.MetadataExporter.State%2A> property of the <xref:System.ServiceModel.Description.WsdlExporter>.</span></span> <span data-ttu-id="421b3-295">그렇지 않으면 `out` 메서드의 <xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> 매개 변수에서 반환되는 내보내기를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-295">Otherwise, use the exporter returned by the `out` parameter of the <xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> method.</span></span>  
  
4. <span data-ttu-id="421b3-296"><xref:System.Runtime.Serialization.XsdDataContractExporter>에 <xref:System.Runtime.Serialization.ExportOptions>가 정의되지 않은 경우 <xref:System.Runtime.Serialization.XsdDataContractExporter.Options%2A> 속성을 <xref:System.Runtime.Serialization.ExportOptions> 클래스의 새 인스턴스로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-296">If the <xref:System.Runtime.Serialization.XsdDataContractExporter> has no <xref:System.Runtime.Serialization.ExportOptions> defined, then set the <xref:System.Runtime.Serialization.XsdDataContractExporter.Options%2A> property to a new instance of the <xref:System.Runtime.Serialization.ExportOptions> class.</span></span>  
  
5. <span data-ttu-id="421b3-297"><xref:System.Runtime.Serialization.ExportOptions.DataContractSurrogate%2A>의 <xref:System.Runtime.Serialization.ExportOptions>에 대한 <xref:System.Runtime.Serialization.XsdDataContractExporter> 속성을 서로게이트의 새 인스턴스로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-297">Set the <xref:System.Runtime.Serialization.ExportOptions.DataContractSurrogate%2A> property of the <xref:System.Runtime.Serialization.ExportOptions> of the <xref:System.Runtime.Serialization.XsdDataContractExporter> to a new instance of the surrogate.</span></span> <span data-ttu-id="421b3-298">메타데이터 내보내기에 대한 이후 단계에서는 변경하지 않아도 됩니다.</span><span class="sxs-lookup"><span data-stu-id="421b3-298">Subsequent steps for exporting metadata do not require any changes.</span></span>  
  
     [!code-csharp[C_IDataContractSurrogate#10](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_idatacontractsurrogate/cs/source.cs#10)]  
  
## <a name="see-also"></a><span data-ttu-id="421b3-299">참조</span><span class="sxs-lookup"><span data-stu-id="421b3-299">See also</span></span>

- <xref:System.Runtime.Serialization.DataContractSerializer>
- <xref:System.Runtime.Serialization.IDataContractSurrogate>
- <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior>
- <xref:System.Runtime.Serialization.ImportOptions>
- <xref:System.Runtime.Serialization.ExportOptions>
- [<span data-ttu-id="421b3-300">데이터 계약 사용</span><span class="sxs-lookup"><span data-stu-id="421b3-300">Using Data Contracts</span></span>](../feature-details/using-data-contracts.md)
